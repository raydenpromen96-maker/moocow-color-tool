<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MooCow Pro v8.0 - 完整调色系统（专业数据校准版）</title>
<style>
/* 基础样式 */
body {
    font-family: 'Segoe UI', 'Yu Gothic', 'Hiragino Sans', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 8px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: #333;
    min-height: 100vh;
    font-size: 14px;
    line-height: 1.4;
}
.container {
    max-width: 1400px;
    margin: auto;
    background: rgba(255, 255, 255, 0.95);
    padding: 20px;
    border-radius: 16px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(10px);
}
.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    border-bottom: 3px solid #667eea;
    padding-bottom: 15px;
    flex-wrap: wrap;
    gap: 15px;
}
h1 {
    color: #2c3e50;
    margin: 0;
    flex: 1;
    font-size: 1.6em;
    min-width: 250px;
    background: linear-gradient(45deg, #667eea, #764ba2);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}
.language-switcher {
    display: flex;
    gap: 8px;
    align-items: center;
    flex-shrink: 0;
}
.lang-btn {
    padding: 8px 12px;
    border: 2px solid #667eea;
    background: transparent;
    color: #667eea;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
    font-size: 0.85em;
    min-width: 45px;
    text-align: center;
}
.lang-btn.active {
    background: linear-gradient(45deg, #667eea, #764ba2);
    color: white;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}
.main-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
}
.input-section, .color-palette {
    background: rgba(255, 255, 255, 0.8);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(5px);
}
.input-group { margin-bottom: 20px; }
label {
    display: block;
    margin-bottom: 10px;
    font-weight: bold;
    color: #2c3e50;
    font-size: 0.95em;
}
#ralInput, #ralSelect, #volumeSelect {
    width: 100%;
    padding: 14px;
    font-size: 1.1em;
    border: 2px solid #ddd;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.9);
    cursor: pointer;
    box-sizing: border-box;
    margin-bottom: 10px;
}
#colorPreview {
    height: 100px;
    border: 2px solid #ddd;
    border-radius: 8px;
    margin-top: 15px;
    transition: all 0.5s;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.1em;
    color: #fff;
    text-shadow: 0 0 8px rgba(0,0,0,0.8);
    font-weight: bold;
    background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
}
.color-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
    gap: 6px;
    max-height: 400px;
    overflow-y: auto;
    padding: 10px;
    border: 2px solid #eee;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.5);
}
.color-swatch {
    width: 100%;
    height: 50px;
    border: 2px solid #ddd;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 9px;
    font-weight: bold;
    text-shadow: 0 0 4px rgba(0,0,0,0.8);
    color: white;
    min-height: 50px;
}
.color-swatch:hover {
    transform: scale(1.08);
    border-color: #667eea;
    box-shadow: 0 4px 16px rgba(0,0,0,0.3);
    z-index: 10;
}
.color-swatch.selected {
    border-color: #ff6b6b;
    border-width: 3px;
    transform: scale(1.05);
    box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.3);
}
.results-section {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}
.display-area, .formula-section {
    background: rgba(255, 255, 255, 0.8);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(5px);
}
#recipeList {
    list-style: none;
    padding: 0;
    margin: 0;
}
#recipeList li {
    padding: 12px 0;
    border-bottom: 1px dashed #ddd;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.pigment-info {
    background: rgba(102, 126, 234, 0.1);
    padding: 15px;
    border-radius: 8px;
    margin-top: 15px;
    border-left: 4px solid #667eea;
}
.error-message {
    color: #e74c3c;
    font-weight: bold;
    text-align: center;
    margin-top: 20px;
    padding: 15px;
    background: linear-gradient(135deg, #f8d7da, #f5c6cb);
    border: 2px solid #e74c3c;
    border-radius: 8px;
}
.hidden { display: none !important; }

/* --- 自动审核系统样式 --- */
#autoReviewSystem {
    margin-top: 20px;
    border-top: 2px solid #eee;
    padding-top: 15px;
}
#reviewResult { display: flex; align-items: center; gap: 15px; }
#deltaEDisplay { font-size: 1.5em; font-weight: bold; }
#reviewStatus {
    font-size: 1.1em;
    font-weight: bold;
    padding: 6px 12px;
    border-radius: 8px;
    color: white;
}
#reviewStatus.pass { background: linear-gradient(45deg, #28a745, #20c997); }
#reviewStatus.fail { background: linear-gradient(45deg, #feca57, #ff9f43); }

/* 手机端优化 */
@media (max-width: 768px) {
    body { padding: 4px; font-size: 13px; }
    .container { padding: 15px; border-radius: 12px; }
    .header { flex-direction: column; gap: 10px; text-align: center; margin-bottom: 20px; }
    h1 { font-size: 1.3em; min-width: auto; text-align: center; }
    .main-content, .results-section { grid-template-columns: 1fr; gap: 15px; }
    .color-grid { grid-template-columns: repeat(6, 1fr); gap: 4px; max-height: 300px; }
    .color-swatch { height: 40px; font-size: 8px; min-height: 40px; }
}
@media (max-width: 480px) {
    .color-grid { grid-template-columns: repeat(5, 1fr); gap: 3px; }
    .color-swatch { height: 35px; font-size: 7px; min-height: 35px; }
}
</style>
</head>
<body>
<div class="container">
<div class="header">
<h1>
    <span class="zh">🎨 MooCow Pro v8.0 完整调色系统</span>
    <span class="en hidden">🎨 MooCow Pro v8.0 Complete Color System</span>
    <span class="ja hidden">🎨 MooCow Pro v8.0 完全調色システム</span>
</h1>
<div class="language-switcher">
<button class="lang-btn active" onclick="switchLanguage('zh')">中文</button>
<button class="lang-btn" onclick="switchLanguage('en')">EN</button>
<button class="lang-btn" onclick="switchLanguage('ja')">日本語</button>
</div>
</div>

<div class="main-content">
<div class="input-section">
<div class="input-group">
    <label>
        <span class="zh">🎯 输入 RAL 色号 (例如: 3020)</span>
        <span class="en hidden">🎯 Enter RAL Code (e.g., 3020)</span>
        <span class="ja hidden">🎯 RALコード入力 (例: 3020)</span>
    </label>
    <input type="text" id="ralInput" placeholder="例如: 3020">
    <select id="ralSelect"></select>
    <div id="colorPreview">
        <span class="zh">输入色号或选择色块进行查询</span>
        <span class="en hidden">Enter code or select a swatch</span>
        <span class="ja hidden">コードを入力するか、見本を選択</span>
    </div>
</div>

<div class="input-group">
    <label>
        <span class="zh">🧪 选择透明基础漆容量</span>
        <span class="en hidden">🧪 Select Clear Base Volume</span>
        <span class="ja hidden">🧪 クリアベース容量を選択</span>
    </label>
    <select id="volumeSelect">
        <option value="500">500ml</option>
        <option value="1000" selected>1L (1000ml)</option>
        <option value="5000">5L (5000ml)</option>
        <option value="20000">20L (20000ml)</option>
    </select>
</div>
<div class="pigment-info">
    <strong>
        <span class="zh">🔬 专业颜料系统 (已校准)</span>
        <span class="en hidden">🔬 Professional Pigment System (Calibrated)</span>
        <span class="ja hidden">🔬 プロ顔料システム (校正済み)</span>
    </strong>
    <div style="margin-top: 10px; font-size: 0.9em;">
        <span class="zh">已集成您提供的14种颜料精确数据</span>
        <span class="en hidden">Integrated with your 14 provided pigment data points.</span>
        <span class="ja hidden">提供された14種類の顔料精密データで校正済み</span>
    </div>
</div>
</div>
<div class="color-palette">
    <h3>
        <span class="zh">🎨 RAL 色卡选择 (188色)</span>
        <span class="en hidden">🎨 RAL Color Palette (188 Colors)</span>
        <span class="ja hidden">🎨 RAL カラーパレット (188色)</span>
    </h3>
    <div class="color-grid" id="colorGrid"></div>
</div>
</div>

<div class="results-section" id="resultsContainer" style="display: none;">
<div class="display-area" id="colorDisplay">
    <div>
        <strong>
            <span class="zh">📊 颜色信息</span>
            <span class="en hidden">📊 Color Information</span>
            <span class="ja hidden">📊 色情報</span>
        </strong>
        <div id="colorInfo"></div>
    </div>
    <div id="autoReviewSystem">
        <h4>
            <span class="zh">🤖 自动审核结果</span>
            <span class="en hidden">🤖 Automatic Review</span>
            <span class="ja hidden">🤖 自動レビュー</span>
        </h4>
        <div id="reviewResult">
            <div>
                <span class="zh">色差值 (ΔE)</span>
                <span class="en hidden">Difference (ΔE)</span>
                <span class="ja hidden">色の違い (ΔE)</span>
                <div id="deltaEDisplay">---</div>
            </div>
            <div id="reviewStatus">
                <span class="zh">---</span>
                <span class="en hidden">---</span>
                <span class="ja hidden">---</span>
            </div>
        </div>
        <p style="font-size: 0.85em; color: #555; margin-top:10px;">
            <span class="zh">判定标准: ΔE 2000 < 2.0. 此值越小，代表理论配方与标准色的差距越小，肉眼越无法分辨。</span>
            <span class="en hidden">Standard: ΔE 2000 < 2.0. A lower value means the formula is closer to the standard color.</span>
            <span class="ja hidden">基準：ΔE 2000 < 2.0。値が小さいほど、計算された配合と標準色の差が小さくなります。</span>
        </p>
    </div>
</div>
<div class="formula-section">
    <div>
        <strong>
            <span class="zh">⚗️ 专业颜料配方</span>
            <span class="en hidden">⚗️ Pigment Formula</span>
            <span class="ja hidden">⚗️ 顔料配合</span>
        </strong>
    </div>
    <ul id="recipeList"></ul>
</div>
</div>
<div class="error-message" id="errorMsg" style="display: none;">
    <span class="zh">❌ 未找到该 RAL 色号，请检查输入是否正确</span>
    <span class="en hidden">❌ RAL color not found, please check input</span>
    <span class="ja hidden">❌ RALカラーが見つかりません、入力を確認してください</span>
</div>
</div>

<script>
// ===================================================================================
// === START: 核心数据区 ===
// ===================================================================================

// 1. 已根据您提供的实验室数据进行精确校准
const pigmentLabValues = {
    titanium_white:     { L: 95.23, a: -0.58,  b: 0.04   }, // 型号: W06A
    carbon_black:       { L: 34.26, a: -0.19,  b: -2.47  }, // 型号: BK7H
    iron_oxide_red:     { L: 57.18, a: 49.67,  b: 13.26  }, // 型号: R254D
    iron_oxide_yellow:  { L: 87.77, a: 0.8,    b: 72.81  }, // 型号: Y74S
    iron_oxide_brown:   { L: 43.99, a: 32.75,  b: 24.57  }, // 型号: R101Y
    quinacridone_magenta: { L: 55.54, a: 45.65,  b: -16.47 }, // 型号: R122S
    organic_orange:     { L: 70.43, a: 45.73,  b: 27.33  }, // 型号: 073
    quinacridone_violet: { L: 37.82, a: 18.96,  b: -33.68 }, // 型号: V23
    ultramarine_blue:   { L: 48.64, a: -5.95,  b: -40.42 }, // 型号: B150S
    phthalocyanine_blue: { L: 52.36, a: -16.97, b: -38.95 }, // 型号: B153S
    prussian_blue:      { L: 34.26, a: -0.19,  b: -2.47  }, // 复用BK7H
    phthalocyanine_green: { L: 62.16, a: -47.51, b: 1.38   }, // 型号: G7
    chromium_oxide_green: { L: 80.38, a: 10.64,  b: 36.87  }, // 型号: Y42S
    raw_umber:          { L: 40.09, a: 28.89,  b: 18.77  }  // 型号: R101V
};

const pigmentNameMap = {
    titanium_white:     { zh: 'W06A 白色', en: 'W06A White', ja: 'W06A ホワイト' },
    carbon_black:       { zh: 'BK7H 黑色', en: 'BK7H Black', ja: 'BK7H ブラック' },
    iron_oxide_red:     { zh: 'R254D 大红', en: 'R254D Red', ja: 'R254D レッド' },
    iron_oxide_yellow:  { zh: 'Y74S 中黄', en: 'Y74S Yellow', ja: 'Y74S イエロー' },
    iron_oxide_brown:   { zh: 'R101Y 铁红(黄相)', en: 'R101Y Iron Red (Y)', ja: 'R101Y 酸化鉄赤（黄）' },
    quinacridone_magenta: { zh: 'R122S 玫红', en: 'R122S Magenta', ja: 'R122S マゼンタ' },
    organic_orange:     { zh: '073 橙', en: '073 Orange', ja: '073 オレンジ' },
    quinacridone_violet: { zh: 'V23 紫色', en: 'V23 Violet', ja: 'V23 バイオレット' },
    ultramarine_blue:   { zh: 'B150S 宝蓝', en: 'B150S Blue', ja: 'B150S ブルー' },
    phthalocyanine_blue: { zh: 'B153S 艳蓝', en: 'B153S Bright Blue', ja: 'B153S ブライトブルー' },
    prussian_blue:      { zh: 'BK7H 黑色 (微调)', en: 'BK7H Black (Fine-tune)', ja: 'BK7H ブラック（微調整）' },
    phthalocyanine_green: { zh: 'G7 绿色', en: 'G7 Green', ja: 'G7 グリーン' },
    chromium_oxide_green: { zh: 'Y42S 铁黄 (调绿)', en: 'Y42S Iron Yellow (for green)', ja: 'Y42S 酸化鉄黄（緑調整用）' },
    raw_umber:          { zh: 'R101V 铁红(紫相)', en: 'R101V Iron Red (V)', ja: 'R101V 酸化鉄赤（紫）' }
};

// 2. 已将您提供的188个RAL RGB数据，通过色彩科学公式转换为精确的HEX和LAB值
const ralPaintMap = {'1000':{name:{zh:'米绿色',en:'Green beige',ja:'グリーンベージュ'},rgb:'#CDBA88',lab:{L:76.65,a:-1.72,b:27.42}},'1001':{name:{zh:'米色，淡',en:'Beige',ja:'ベージュ'},rgb:'#D0B084',lab:{L:72.48,a:5.08,b:29.35}},'1002':{name:{zh:'沙黄色',en:'Sand yellow',ja:'サンドイエロー'},rgb:'#D2AA6D',lab:{L:70.19,a:8.81,b:39.11}},'1003':{name:{zh:'信号黄',en:'Signal yellow',ja:'シグナルイエロー'},rgb:'#F9A800',lab:{L:74.55,a:23.97,b:86.04}},'1004':{name:{zh:'金黄色',en:'Golden yellow',ja:'ゴールデンイエロー'},rgb:'#E49E00',lab:{L:68.97,a:21.14,b:81.9}},'1005':{name:{zh:'蜜黄色',en:'Honey yellow',ja:'ハニーイエロー'},rgb:'#CB8E00',lab:{L:61.46,a:19.49,b:77.72}},'1006':{name:{zh:'玉米黄',en:'Maize yellow',ja:'メイズイエロー'},rgb:'#E29000',lab:{L:65.34,a:24.47,b:82.88}},'1007':{name:{zh:'灰黄色',en:'Daffodil yellow',ja:'ダフォディルイエロー'},rgb:'#E88C00',lab:{L:64.63,a:27.42,b:85.4}},'1011':{name:{zh:'米褐色',en:'Brown beige',ja:'ブラウンベージュ'},rgb:'#AF804F',lab:{L:56.57,a:11.85,b:32.41}},'1012':{name:{zh:'柠檬黄',en:'Lemon yellow',ja:'レモンイエロー'},rgb:'#DDAF27',lab:{L:74.22,a:6.64,b:69.45}},'1013':{name:{zh:'近于白色',en:'Oyster white',ja:'オイスターホワイト'},rgb:'#E3D9C6',lab:{L:87.52,a:0.77,b:9.59}},'1014':{name:{zh:'象牙色',en:'Ivory',ja:'アイボリー'},rgb:'#DDC49A',lab:{L:80.12,a:2.49,b:27.87}},'1015':{name:{zh:'亮象牙色',en:'Light ivory',ja:'ライトアイボリー'},rgb:'#E6D2B5',lab:{L:85.49,a:2.5,b:18.98}},'1016':{name:{zh:'硫磺色',en:'Sulfur yellow',ja:'サルファーイエロー'},rgb:'#F1DD38',lab:{L:89.65,a:-5.54,b:73.74}},'1017':{name:{zh:'深黄色',en:'Saffron yellow',ja:'サフランイエロー'},rgb:'#F6A950',lab:{L:74.19,a:21.05,b:60.77}},'1018':{name:{zh:'绿黄色',en:'Zinc yellow',ja:'ジンクイエロー'},rgb:'#FACA30',lab:{L:83.21,a:8.73,b:79.91}},'1019':{name:{zh:'米灰色',en:'Grey beige',ja:'グレーベージュ'},rgb:'#A48F7A',lab:{L:62.59,a:5.73,b:14.33}},'1020':{name:{zh:'橄榄黄',en:'Olive yellow',ja:'オリーブイエロー'},rgb:'#A08F65',lab:{L:61.94,a:0.25,b:24.9}},'1021':{name:{zh:'油菜黄',en:'Colza yellow',ja:'レイプイエロー'},rgb:'#F6B600',lab:{L:77.37,a:19.33,b:84.14}},'1023':{name:{zh:'交通黄',en:'Traffic yellow',ja:'トラフィックイエロー'},rgb:'#F7B500',lab:{L:77.06,a:20.25,b:84.69}},'1024':{name:{zh:'赭黄色',en:'Ochre yellow',ja:'オーカーイエロー'},rgb:'#BA8F4C',lab:{L:62.36,a:9.93,b:40.42}},'1026':{name:{zh:'亮黄色',en:'Luminous yellow',ja:'ルミナスイエロー'},rgb:'#FFFF00',lab:{L:97.14,a:-21.56,b:94.48}},'1027':{name:{zh:'咖喱色',en:'Curry',ja:'カレー'},rgb:'#A77F0E',lab:{L:54.67,a:9.1,b:62.4}},'1028':{name:{zh:'浅橙黄',en:'Melon yellow',ja:'メロンイエロー'},rgb:'#FF9B00',lab:{L:70.92,a:34.02,b:86.53}},'1032':{name:{zh:'金雀花黄',en:'Broom yellow',ja:'ブルームイエロー'},rgb:'#E2A300',lab:{L:70.47,a:19.89,b:80.6}},'1033':{name:{zh:'大丽花黄',en:'Dahlia yellow',ja:'ダリアイエロー'},rgb:'#F99A1C',lab:{L:70.52,a:29.62,b:76.62}},'1034':{name:{zh:'粉黄色',en:'Pastel yellow',ja:'パステルイエロー'},rgb:'#EB9C52',lab:{L:68.7,a:23.01,b:56.55}},'1037':{name:{zh:'日光黄',en:'Sun yellow',ja:'サンイエロー'},rgb:'#F09200',lab:{L:66.63,a:27.18,b:82.52}},'2000':{name:{zh:'黄橙色',en:'Yellow orange',ja:'イエローオレンジ'},rgb:'#DA6E00',lab:{L:55.33,a:37.38,b:75.29}},'2001':{name:{zh:'橘红',en:'Red orange',ja:'レッドオレンジ'},rgb:'#BA481B',lab:{L:45.34,a:45.2,b:45.54}},'2002':{name:{zh:'朱红',en:'Vermilion',ja:'バーミリオン'},rgb:'#BF3922',lab:{L:44.25,a:52.48,b:46.71}},'2003':{name:{zh:'淡橙',en:'Pastel orange',ja:'パステルオレンジ'},rgb:'#F67828',lab:{L:62.3,a:47.36,b:66.67}},'2004':{name:{zh:'纯橙',en:'Pure orange',ja:'ピュアオレンジ'},rgb:'#E25303',lab:{L:52.54,a:54.01,b:68.31}},'2005':{name:{zh:'亮橙',en:'Luminous orange',ja:'ルミナスオレンジ'},rgb:'#FF4D00',lab:{L:56.88,a:67.11,b:71.93}},'2007':{name:{zh:'亮浅橙',en:'Luminous bright orange',ja:'ルミナスブライトオレンジ'},rgb:'#FFB200',lab:{L:78.89,a:24.4,b:85.49}},'2008':{name:{zh:'浅红橙',en:'Bright red orange',ja:'ブライトレッドオレンジ'},rgb:'#ED6B21',lab:{L:60.48,a:46.99,b:65.34}},'2009':{name:{zh:'交通橙',en:'Traffic orange',ja:'トラフィックオレンジ'},rgb:'#DE5307',lab:{L:51.62,a:53.64,b:65.17}},'2010':{name:{zh:'信号橙',en:'Signal orange',ja:'シグナルオレンジ'},rgb:'#D05D28',lab:{L:55.22,a:45.17,b:51.52}},'2011':{name:{zh:'深橙色',en:'Deep orange',ja:'ディープオレンジ'},rgb:'#E26E0E',lab:{L:58.33,a:44.02,b:74.45}},'2012':{name:{zh:'鲑鱼橙',en:'Salmon orange',ja:'サーモンオレンジ'},rgb:'#D5654D',lab:{L:58.07,a:38.99,b:35.43}},'2017':{name:{zh:'荧光亮橙',en:'RAL 2017',ja:'RAL 2017'},rgb:'#FC5500',lab:{L:58.26,a:61.76,b:72.63}},'3000':{name:{zh:'火焰红',en:'Flame red',ja:'フレームレッド'},rgb:'#A72920',lab:{L:38.29,a:49.03,b:37.49}},'3001':{name:{zh:'信号红',en:'Signal red',ja:'シグナルレッド'},rgb:'#9B2423',lab:{L:36.19,a:48.33,b:34.94}},'3002':{name:{zh:'胭脂红',en:'Carmine red',ja:'カーマインレッド'},rgb:'#9B2321',lab:{L:35.8,a:49.05,b:35.91}},'3003':{name:{zh:'宝石红',en:'Ruby red',ja:'ルビーレッド'},rgb:'#861A22',lab:{L:30.43,a:44.8,b:29.35}},'3004':{name:{zh:'紫红色',en:'Purple red',ja:'パープルレッド'},rgb:'#6B1C23',lab:{L:25.56,a:35.08,b:18.98}},'3005':{name:{zh:'葡萄酒红',en:'Wine red',ja:'ワインレッド'},rgb:'#59191F',lab:{L:21.36,a:31.02,b:16.29}},'3007':{name:{zh:'黑红色',en:'Black red',ja:'ブラックレッド'},rgb:'#3E2022',lab:{L:16.89,a:12.79,b:6.64}},'3009':{name:{zh:'氧化红',en:'Oxide red',ja:'オキサイドレッド'},rgb:'#6D342D',lab:{L:29.46,a:19.49,b:14.38}},'3011':{name:{zh:'红玄武土色',en:'Brown red',ja:'ブラウンレッド'},rgb:'#792423',lab:{L:29.53,a:38.33,b:24.01}},'3012':{name:{zh:'米红色',en:'Beige red',ja:'ベージュレッド'},rgb:'#C6846D',lab:{L:61.42,a:25.54,b:25.66}},'3013':{name:{zh:'番茄红',en:'Tomato red',ja:'トマトレッド'},rgb:'#972E25',lab:{L:36.72,a:45.31,b:31.95}},'3014':{name:{zh:'古粉红色',en:'Antique pink',ja:'アンティークピンク'},rgb:'#CB7375',lab:{L:59.6,a:33.2,b:14.65}},'3015':{name:{zh:'淡粉红色',en:'Light pink',ja:'ライトピンク'},rgb:'#D8A0A6',lab:{L:70.43,a:21.82,b:7.93}},'3016':{name:{zh:'珊瑚红色',en:'Coral red',ja:'コーラルレッド'},rgb:'#A63D2F',lab:{L:43.02,a:41.3,b:31.13}},'3017':{name:{zh:'玫瑰色',en:'Rose',ja:'ローズ'},rgb:'#CB555D',lab:{L:53.94,a:45.02,b:22.75}},'3018':{name:{zh:'草莓红',en:'Strawberry red',ja:'ストロベリーレッド'},rgb:'#C73F4A',lab:{L:49.61,a:50.06,b:28.01}},'3020':{name:{zh:'交通红',en:'Traffic red',ja:'トラフィックレッド'},rgb:'#BB1E10',lab:{L:41.97,a:63.51,b:51.5}},'3022':{name:{zh:'鲑鱼粉红色',en:'Salmon pink',ja:'サーモンピンク'},rgb:'#CF6955',lab:{L:59.39,a:37.33,b:31.2}},'3024':{name:{zh:'亮红色',en:'Luminous red',ja:'ルミナスレッド'},rgb:'#FF2D21',lab:{L:54.02,a:69.21,b:56.36}},'3026':{name:{zh:'淡亮红色',en:'Luminous bright red',ja:'ルミナスブライトレッド'},rgb:'#FF2A1B',lab:{L:53.3,a:70.28,b:58.33}},'3027':{name:{zh:'悬钩子红色',en:'Raspberry red',ja:'ラズベリーレッド'},rgb:'#AB273C',lab:{L:41.51,a:53.79,b:24.16}},'3028':{name:{zh:'纯红色',en:'Pure red',ja:'ピュアレッド'},rgb:'#CC2C24',lab:{L:46.7,a:60.33,b:45.96}},'3031':{name:{zh:'戈亚红色',en:'Orient red',ja:'オリエントレッド'},rgb:'#A63437',lab:{L:42.23,a:48.33,b:27.79}},'4001':{name:{zh:'丁香红',en:'Red lilac',ja:'レッドライラック'},rgb:'#816183',lab:{L:43.76,a:12.79,b:-6.83}},'4002':{name:{zh:'紫红色',en:'Red violet',ja:'レッドバイオレット'},rgb:'#8D3C4B',lab:{L:38.93,a:35.33,b:10.97}},'4003':{name:{zh:'石南紫',en:'Heather violet',ja:'ヘザーバイオレット'},rgb:'#C4618C',lab:{L:55.77,a:44.24,b:0.67}},'4004':{name:{zh:'酒红紫',en:'Claret violet',ja:'クラレットバイオレット'},rgb:'#651E38',lab:{L:24.47,a:34.9,b:6.16}},'4005':{name:{zh:'丁香蓝',en:'Blue lilac',ja:'ブルーライラック'},rgb:'#76689A',lab:{L:47.38,a:10.8,b:-23.01}},'4006':{name:{zh:'交通紫',en:'Traffic purple',ja:'トラフィックパープル'},rgb:'#903373',lab:{L:41.01,a:44.8,b:-3.35}},'4007':{name:{zh:'紫红蓝色',en:'Purple violet',ja:'パープルバイオレット'},rgb:'#47243C',lab:{L:19.46,a:17.3,b:-4.41}},'4008':{name:{zh:'信号紫罗兰',en:'Signal violet',ja:'シグナルバイオレット'},rgb:'#844C82',lab:{L:41.22,a:28.16,b:-9.77}},'4009':{name:{zh:'崧蓝紫色',en:'Pastel violet',ja:'パステルバイオレット'},rgb:'#9D8692',lab:{L:60.55,a:9.22,b:-1.09}},'4010':{name:{zh:'电视品红色',en:'Telemagenta',ja:'テレマゼンタ'},rgb:'#BC4077',lab:{L:49.27,a:53.9,b:6.37}},'5000':{name:{zh:'紫蓝色',en:'Violet blue',ja:'バイオレットブルー'},rgb:'#314F6F',lab:{L:34.69,a:-3.55,b:-24.1}},'5001':{name:{zh:'蓝绿色',en:'Green blue',ja:'グリーンブルー'},rgb:'#0F4C64',lab:{L:32.48,a:-12.39,b:-22.42}},'5002':{name:{zh:'群青蓝',en:'Ultramarine blue',ja:'ウルトラマリンブルー'},rgb:'#00387B',lab:{L:25.07,a:12.78,b:-42.59}},'5003':{name:{zh:'蓝宝石蓝',en:'Sapphire blue',ja:'サファイアブルー'},rgb:'#1F3855',lab:{L:25.46,a:-4.07,b:-24.7}},'5004':{name:{zh:'蓝黑色',en:'Black blue',ja:'ブラックブルー'},rgb:'#191E28',lab:{L:14.33,a:-0.89,b:-6.8}},'5005':{name:{zh:'信号蓝',en:'Signal blue',ja:'シグナルブルー'},rgb:'#005387',lab:{L:36.78,a:1.15,b:-35.79}},'5007':{name:{zh:'亮蓝色',en:'Brilliant blue',ja:'ブリリアントブルー'},rgb:'#376B8C',lab:{L:45.31,a:-9.3,b:-24.46}},'5008':{name:{zh:'灰蓝色',en:'Grey blue',ja:'グレーブルー'},rgb:'#2B3A44',lab:{L:24.78,a:-3.97,b:-9.22}},'5009':{name:{zh:'天青蓝',en:'Azure blue',ja:'アジュールブルー'},rgb:'#225F78',lab:{L:40.45,a:-13.67,b:-21.49}},'5010':{name:{zh:'龙胆蓝色',en:'Gentian blue',ja:'ゲンチアンブルー'},rgb:'#004F7C',lab:{L:34.1,a:0.12,b:-32.25}},'5011':{name:{zh:'钢蓝色',en:'Steel blue',ja:'スチールブルー'},rgb:'#1A2B3C',lab:{L:19.47,a:-3.73,b:-12.82}},'5012':{name:{zh:'淡蓝色',en:'Light blue',ja:'ライトブルー'},rgb:'#0089B6',lab:{L:55.77,a:-15.93,b:-33.43}},'5013':{name:{zh:'钴蓝色',en:'Cobalt blue',ja:'コバルトブルー'},rgb:'#193153',lab:{L:22.09,a:1.9,b:-25.35}},'5014':{name:{zh:'鸽蓝色',en:'Pigeon blue',ja:'ピジョンブルー'},rgb:'#637D96',lab:{L:53.68,a:-4.23,b:-15.86}},'5015':{name:{zh:'天蓝色',en:'Sky blue',ja:'スカイブルー'},rgb:'#007CB0',lab:{L:51.68,a:-11.75,b:-36.21}},'5017':{name:{zh:'交通蓝',en:'Traffic blue',ja:'トラフィックブルー'},rgb:'#005B8C',lab:{L:39.11,a:0.56,b:-32.8}},'5018':{name:{zh:'绿松石蓝',en:'Turquoise blue',ja:'ターコイズブルー'},rgb:'#058B8C',lab:{L:56.24,a:-29.43,b:-6.76}},'5019':{name:{zh:'卡布里蓝色',en:'Capri blue',ja:'カプリブルー'},rgb:'#005E83',lab:{L:40.1,a:-11.23,b:-29.15}},'5020':{name:{zh:'海蓝色',en:'Ocean blue',ja:'オーシャンブルー'},rgb:'#00414B',lab:{L:27.7,a:-11.83,b:-11.45}},'5021':{name:{zh:'不来梅蓝色',en:'Water blue',ja:'ウォーターブルー'},rgb:'#007577',lab:{L:49.03,a:-23.64,b:-8.59}},'5022':{name:{zh:'夜蓝色',en:'Night blue',ja:'ナイトブルー'},rgb:'#222D5A',lab:{L:22.38,a:9.17,b:-28.01}},'5023':{name:{zh:'冷蓝色',en:'Distant blue',ja:'ディスタントブルー'},rgb:'#42698C',lab:{L:45.31,a:-5.51,b:-22.42}},'5024':{name:{zh:'崧蓝蓝色',en:'Pastel blue',ja:'パステルブルー'},rgb:'#6093AC',lab:{L:62.59,a:-12.2,b:-17.58}},'6000':{name:{zh:'铜锈绿色',en:'Patina green',ja:'パティナグリーン'},rgb:'#3C7460',lab:{L:47.38,a:-20.4,b:4.41}},'6001':{name:{zh:'翡翠绿色',en:'Emerald green',ja:'エメラルドグリーン'},rgb:'#366735',lab:{L:42.54,a:-24.4,b:17.37}},'6002':{name:{zh:'叶绿色',en:'Leaf green',ja:'リーフグリーン'},rgb:'#325928',lab:{L:37.45,a:-21.48,b:21.01}},'6003':{name:{zh:'橄榄绿',en:'Olive green',ja:'オリーブグリーン'},rgb:'#50533C',lab:{L:35.88,a:-4.06,b:11.71}},'6004':{name:{zh:'蓝绿色',en:'Blue green',ja:'ブルーグリーン'},rgb:'#024442',lab:{L:28.45,a:-21.78,b:-4.49}},'6005':{name:{zh:'苔藓绿',en:'Moss green',ja:'モスグリーン'},rgb:'#114232',lab:{L:27.53,a:-19.64,b:4.86}},'6006':{name:{zh:'橄榄灰绿',en:'Grey olive',ja:'グレーオリーブ'},rgb:'#3C392E',lab:{L:25.2,a:0.97,b:6.37}},'6007':{name:{zh:'瓶绿',en:'Bottle green',ja:'ボトルグリーン'},rgb:'#2C3222',lab:{L:22.06,a:-4.57,b:7.22}},'6008':{name:{zh:'褐绿',en:'Brown green',ja:'ブラウングリーン'},rgb:'#37342A',lab:{L:23.23,a:0.56,b:6.29}},'6009':{name:{zh:'冷杉绿',en:'Fir green',ja:'ファーグリーン'},rgb:'#27352A',lab:{L:22.1,a:-5.7,b:2.61}},'6010':{name:{zh:'草绿色',en:'Grass green',ja:'グラスグリーン'},rgb:'#4D6F39',lab:{L:45.24,a:-20.5,b:22.25}},'6011':{name:{zh:'淡橄榄绿',en:'Reseda green',ja:'レセダグリーン'},rgb:'#6C7C59',lab:{L:51.57,a:-12.2,b:18.57}},'6012':{name:{zh:'墨绿色',en:'Black green',ja:'ブラックグリーン'},rgb:'#303D3A',lab:{L:25.86,a:-5.23,b:-0.37}},'6013':{name:{zh:'芦苇绿',en:'Reed green',ja:'リードグリーン'},rgb:'#7D765A',lab:{L:50.9,a:0.83,b:14.61}},'6014':{name:{zh:'橄榄黄',en:'Yellow olive',ja:'イエローオリーブ'},rgb:'#474135',lab:{L:28.18,a:0.55,b:7.02}},'6015':{name:{zh:'黑齐墩果色',en:'Black olive',ja:'ブラックオリーブ'},rgb:'#3D3D36',lab:{L:27.42,a:-0.87,b:3.97}},'6016':{name:{zh:'绿松石绿色',en:'Turquoise green',ja:'ターコイズグリーン'},rgb:'#00694C',lab:{L:41.87,a:-29.47,b:11.53}},'6017':{name:{zh:'五月红',en:'May green',ja:'メイグリーン'},rgb:'#587F40',lab:{L:50.75,a:-23.67,b:27.42}},'6018':{name:{zh:'黄绿色',en:'Yellow green',ja:'イエローグリーン'},rgb:'#61993B',lab:{L:62.03,a:-33.43,b:42.59}},'6019':{name:{zh:'崧蓝绿色',en:'Pastel green',ja:'パステルグリーン'},rgb:'#B9CEAC',lab:{L:80.8,a:-10.6,b:13.19}},'6020':{name:{zh:'铭绿色',en:'Chrome green',ja:'クロムグリーン'},rgb:'#37422F',lab:{L:27.76,a:-6.65,b:6.05}},'6021':{name:{zh:'浅绿色',en:'Pale green',ja:'ペールグリーン'},rgb:'#8A9977',lab:{L:63.58,a:-10.0,b:16.27}},'6022':{name:{zh:'橄榄土褐色',en:'Olive drab',ja:'オリーブドラブ'},rgb:'#3A3327',lab:{L:22.95,a:2.45,b:8.67}},'6024':{name:{zh:'交通绿',en:'Traffic green',ja:'トラフィックグリーン'},rgb:'#008351',lab:{L:49.69,a:-35.8,b:14.37}},'6025':{name:{zh:'蕨绿',en:'Fern green',ja:'ファーングリーン'},rgb:'#5E6E3B',lab:{L:46.22,a:-14.33,b:28.17}},'6026':{name:{zh:'蛋白石绿色',en:'Opal green',ja:'オパールグリーン'},rgb:'#005F4E',lab:{L:38.25,a:-23.63,b:3.97}},'6027':{name:{zh:'葱绿色',en:'Light green',ja:'ライトグリーン'},rgb:'#7EBAB5',lab:{L:73.69,a:-19.46,b:-0.3}},'6028':{name:{zh:'松绿色',en:'Pine green',ja:'パイングリーン'},rgb:'#315442',lab:{L:34.93,a:-18.12,b:5.73}},'6029':{name:{zh:'薄荷绿',en:'Mint green',ja:'ミントグリーン'},rgb:'#006F3D',lab:{L:43.68,a:-36.21,b:18.91}},'6032':{name:{zh:'信号绿',en:'Signal green',ja:'シグナルグリーン'},rgb:'#237F52',lab:{L:49.25,a:-33.91,b:15.54}},'6033':{name:{zh:'薄荷绿蓝色',en:'Mint turquoise',ja:'ミントターコイズ'},rgb:'#46877F',lab:{L:55.76,a:-23.33,b:-0.19}},'6034':{name:{zh:'崧蓝绿松',en:'Pastel turquoise',ja:'パステルターコイズ'},rgb:'#7AABAB',lab:{L:69.41,a:-19.86,b:-5.95}},'6037':{name:{zh:'纯绿',en:'Pure green',ja:'ピュアグリーン'},rgb:'#008B29',lab:{L:52.29,a:-54.55,b:42.55}},'6038':{name:{zh:'荧光绿',en:'Luminous green',ja:'ルミナスグリーン'},rgb:'#00B51A',lab:{L:64.6,a:-73.3,b:59.03}},'7000':{name:{zh:'松鼠灰',en:'Squirrel grey',ja:'スクワレルグレー'},rgb:'#7A888E',lab:{L:57.17,a:-3.57,b:-5.09}},'7001':{name:{zh:'银灰色',en:'Silver grey',ja:'シルバーグレー'},rgb:'#8C969D',lab:{L:62.58,a:-3.47,b:-4.41}},'7002':{name:{zh:'橄榄灰绿色',en:'Olive grey',ja:'オリーブグレー'},rgb:'#817863',lab:{L:51.98,a:0.67,b:12.78}},'7003':{name:{zh:'苔灰',en:'Moss grey',ja:'モスグレー'},rgb:'#7A7669',lab:{L:50.81,a:1.37,b:7.93}},'7004':{name:{zh:'信号灰',en:'Signal grey',ja:'シグナルグレー'},rgb:'#9B9B9B',lab:{L:64.65,a:0,b:0}},'7005':{name:{zh:'鼠灰色',en:'Mouse grey',ja:'マウスグレー'},rgb:'#6C6E6B',lab:{L:47.36,a:-0.42,b:0.99}},'7006':{name:{zh:'米灰色',en:'Beige grey',ja:'ベージュグレー'},rgb:'#766A5E',lab:{L:45.92,a:4.38,b:7.97}},'7008':{name:{zh:'土黄灰色',en:'Khaki grey',ja:'カーキグレー'},rgb:'#745E3D',lab:{L:42.15,a:5.71,b:21.82}},'7009':{name:{zh:'绿灰色',en:'Green grey',ja:'グリーングレー'},rgb:'#5D6058',lab:{L:41.31,a:-2.26,b:4.61}},'7010':{name:{zh:'油布灰',en:'Tarpaulin grey',ja:'タープグレー'},rgb:'#585C56',lab:{L:40.06,a:-1.6,b:3.51}},'7011':{name:{zh:'铁灰色',en:'Iron grey',ja:'アイアングレー'},rgb:'#52595D',lab:{L:37.95,a:-1.97,b:-2.69}},'7012':{name:{zh:'玄武石灰',en:'Basalt grey',ja:'バサルトグレー'},rgb:'#575D5E',lab:{L:39.69,a:-1.74,b:-1.23}},'7013':{name:{zh:'褐灰色',en:'Brown grey',ja:'ブラウングレー'},rgb:'#575044',lab:{L:34.9,a:1.9,b:7.93}},'7015':{name:{zh:'浅橄榄灰',en:'Slate grey',ja:'スレートグレー'},rgb:'#4F5358',lab:{L:36.19,a:-0.89,b:-2.89}},'7016':{name:{zh:'煤灰',en:'Anthracite grey',ja:'アンスラサイトグレー'},rgb:'#383E42',lab:{L:26.54,a:-1.33,b:-2.59}},'7021':{name:{zh:'黑灰',en:'Black grey',ja:'ブラックグレー'},rgb:'#2F3234',lab:{L:21.72,a:-0.8,b:-1.63}},'7022':{name:{zh:'暗灰',en:'Umbra grey',ja:'アンブラグレー'},rgb:'#4C4A44',lab:{L:32.11,a:1.02,b:3.47}},'7023':{name:{zh:'混凝土灰',en:'Concrete grey',ja:'コンクリートグレー'},rgb:'#808076',lab:{L:54.67,a:-0.71,b:4.06}},'7024':{name:{zh:'石墨灰',en:'Graphite grey',ja:'グラファイトグレー'},rgb:'#45494E',lab:{L:31.42,a:-1.03,b:-2.93}},'7026':{name:{zh:'花岗灰',en:'Granite grey',ja:'グラナイトグレー'},rgb:'#374345',lab:{L:28.16,a:-4.41,b:-3.56}},'7030':{name:{zh:'石灰色',en:'Stone grey',ja:'ストーングレー'},rgb:'#928E85',lab:{L:60.75,a:1.44,b:5.08}},'7031':{name:{zh:'蓝灰色',en:'Blue grey',ja:'ブルーグレー'},rgb:'#5B686D',lab:{L:44.25,a:-4.16,b:-4.57}},'7032':{name:{zh:'卵石灰',en:'Pebble grey',ja:'ペブルグレー'},rgb:'#B5B0A1',lab:{L:73.46,a:0.77,b:8.67}},'7033':{name:{zh:'水泥灰',en:'Cement grey',ja:'セメントグレー'},rgb:'#7F8274',lab:{L:55.23,a:-1.78,b:6.37}},'7034':{name:{zh:'黄灰色',en:'Yellow grey',ja:'イエローグレー'},rgb:'#92886F',lab:{L:58.75,a:1.37,b:13.6}},'7035':{name:{zh:'浅灰色',en:'Light grey',ja:'ライトグレー'},rgb:'#C5C7C4',lab:{L:80.89,a:-0.42,b:1.01}},'7036':{name:{zh:'铂灰色',en:'Platinum grey',ja:'プラチナグレー'},rgb:'#979392',lab:{L:63.09,a:0.96,b:0.43}},'7037':{name:{zh:'土灰色',en:'Dusty grey',ja:'ダスティグレー'},rgb:'#7A7B7A',lab:{L:52.48,a:0,b:0.18}},'7038':{name:{zh:'玛瑙灰',en:'Agate grey',ja:'アゲートグレー'},rgb:'#B0B0A9',lab:{L:72.93,a:-0.14,b:2.89}},'7039':{name:{zh:'石英灰',en:'Quartz grey',ja:'クォーツグレー'},rgb:'#6B665E',lab:{L:44.2,a:2.16,b:6.29}},'7040':{name:{zh:'窗英灰',en:'Window grey',ja:'ウィンドウグレー'},rgb:'#989EA1',lab:{L:65.3,a:-1.14,b:-2.16}},'7042':{name:{zh:'交通灰A',en:'Traffic grey A',ja:'トラフィックグレーA'},rgb:'#8E9291',lab:{L:61.95,a:-1.05,b:0.25}},'7043':{name:{zh:'交通灰B',en:'Traffic grey B',ja:'トラフィックグレーB'},rgb:'#4F5250',lab:{L:34.9,a:-1.05,b:1.02}},'7044':{name:{zh:'深铭灰色',en:'Silk grey',ja:'シルクグレー'},rgb:'#B7B3A8',lab:{L:74.07,a:0.12,b:6.33}},'7045':{name:{zh:'电视灰1',en:'Telegrey 1',ja:'テレグレー1'},rgb:'#8D9295',lab:{L:62.15,a:-1.33,b:-1.72}},'7046':{name:{zh:'电视灰2',en:'Telegrey 2',ja:'テレグレー2'},rgb:'#7F868A',lab:{L:57.17,a:-1.84,b:-2.46}},'7047':{name:{zh:'电视灰4',en:'Telegrey 4',ja:'テレグレー4'},rgb:'#C8C8C7',lab:{L:81.93,a:0,b:0.25}},'8000':{name:{zh:'绿褐色',en:'Green brown',ja:'グリーンブラウン'},rgb:'#89693E',lab:{L:47.38,a:9.1,b:27.5}},'8001':{name:{zh:'赭石棕色',en:'Ochre brown',ja:'オーカーブラウン'},rgb:'#9D622B',lab:{L:46.43,a:20.15,b:43.71}},'8002':{name:{zh:'信号褐',en:'Signal brown',ja:'シグナルブラウン'},rgb:'#794D3E',lab:{L:37.4,a:15.98,b:16.88}},'8003':{name:{zh:'土棕褐色',en:'Clay brown',ja:'クレイブラウン'},rgb:'#7E4B26',lab:{L:38.29,a:18.98,b:35.33}},'8004':{name:{zh:'铜棕色',en:'Copper brown',ja:'カッパーブラウン'},rgb:'#8D4931',lab:{L:39.9,a:25.59,b:29.62}},'8007':{name:{zh:'鹿褐色',en:'Fawn brown',ja:'フォーンブラウン'},rgb:'#70452A',lab:{L:34.25,a:16.42,b:26.56}},'8008':{name:{zh:'橄榄棕色',en:'Olive brown',ja:'オリーブブラウン'},rgb:'#724A25',lab:{L:36.56,a:13.22,b:32.42}},'8011':{name:{zh:'深棕色',en:'Nut brown',ja:'ナットブラウン'},rgb:'#5A3826',lab:{L:27.81,a:14.07,b:22.08}},'8012':{name:{zh:'红褐色',en:'Red brown',ja:'レッドブラウン'},rgb:'#66332B',lab:{L:28.9,a:21.84,b:17.38}},'8014':{name:{zh:'乌贼棕色',en:'Sepia brown',ja:'セピアブラウン'},rgb:'#4A3526',lab:{L:25.29,a:8.81,b:13.88}},'8015':{name:{zh:'粟棕色',en:'Chestnut brown',ja:'チェスナットブラウン'},rgb:'#5E2F26',lab:{L:25.79,a:23.08,b:18.95}},'8016':{name:{zh:'桃花心木褐',en:'Mahogany brown',ja:'マホガニーブラウン'},rgb:'#4C2B20',lab:{L:22.09,a:15.02,b:15.61}},'8017':{name:{zh:'巧克力棕色',en:'Chocolate brown',ja:'チョコレートブラウン'},rgb:'#442F29',lab:{L:22.75,a:9.3,b:10.51}},'8019':{name:{zh:'灰褐色',en:'Grey brown',ja:'グレーブラウン'},rgb:'#3D3635',lab:{L:24.49,a:2.42,b:1.93}},'8022':{name:{zh:'黑褐色',en:'Black brown',ja:'ブラックブラウン'},rgb:'#1A1718',lab:{L:11.45,a:0.91,b:-0.41}},'8023':{name:{zh:'桔黄褐',en:'Orange brown',ja:'オレンジブラウン'},rgb:'#A45729',lab:{L:45.34,a:29.97,b:40.8}},'8024':{name:{zh:'哔叽棕色',en:'Beige brown',ja:'ベージュブラウン'},rgb:'#795038',lab:{L:37.77,a:13.38,b:22.3}},'8025':{name:{zh:'浅褐色',en:'Pale brown',ja:'ペールブラウン'},rgb:'#755847',lab:{L:39.88,a:10.38,b:15.82}},'8028':{name:{zh:'浅灰褐色',en:'Terra brown',ja:'テラブラウン'},rgb:'#513A2A',lab:{L:27.05,a:9.93,b:15.11}},'9001':{name:{zh:'彩黄色',en:'Cream',ja:'クリーム'},rgb:'#E9E0D2',lab:{L:90.72,a:0.39,b:7.08}},'9002':{name:{zh:'灰白色',en:'Grey white',ja:'グレーホワイト'},rgb:'#D7D5CB',lab:{L:86.41,a:-0.2,b:5.23}},'9003':{name:{zh:'信号白',en:'Signal white',ja:'シグナルホワイト'},rgb:'#ECECEC',lab:{L:94.75,a:0,b:1.37}},'9004':{name:{zh:'信号黑',en:'Signal black',ja:'シグナルブラック'},rgb:'#2B2B2C',lab:{L:19.46,a:-0.14,b:-0.65}},'9005':{name:{zh:'墨黑色',en:'Jet black',ja:'ジェットブラック'},rgb:'#0E0E10',lab:{L:8.3,a:0.1,b:-0.78}},'9006':{name:{zh:'白铝灰色',en:'White aluminium',ja:'ホワイトアルミニウム'},rgb:'#A1A1A0',lab:{L:66.6,a:0,b:0.21}},'9007':{name:{zh:'灰铝色',en:'Grey aluminium',ja:'グレーアルミニウム'},rgb:'#878581',lab:{L:57.65,a:0.43,b:2.16}},'9010':{name:{zh:'纯白色',en:'Pure white',ja:'ピュアホワイト'},rgb:'#F1ECE1',lab:{L:93.99,a:0.87,b:6.37}},'9011':{name:{zh:'石墨黑',en:'Graphite black',ja:'グラファイトブラック'},rgb:'#27292B',lab:{L:18.42,a:-0.53,b:-1.21}},'9016':{name:{zh:'交通白',en:'Traffic white',ja:'トラフィックホワイト'},rgb:'#F1F0EA',lab:{L:95.03,a:0,b:3.22}},'9017':{name:{zh:'交通黑',en:'Traffic black',ja:'トラフィックブラック'},rgb:'#2A292A',lab:{L:18.52,a:0.1,b:-0.37}}};

// ===================================================================================
// === START: 核心脚本区 ===
// ===================================================================================

let currentLanguage, currentColorData;
let ralInput, ralSelect, volumeSelect, colorPreview, resultsContainer, colorGrid, errorMsg, recipeList, deltaEDisplay, reviewStatus;

document.addEventListener('DOMContentLoaded', () => {
    // 获取所有DOM元素
    ralInput = document.getElementById('ralInput');
    ralSelect = document.getElementById('ralSelect');
    volumeSelect = document.getElementById('volumeSelect');
    colorPreview = document.getElementById('colorPreview');
    colorGrid = document.getElementById('colorGrid');
    errorMsg = document.getElementById('errorMsg');
    resultsContainer = document.getElementById('resultsContainer');
    recipeList = document.getElementById('recipeList');
    deltaEDisplay = document.getElementById('deltaEDisplay');
    reviewStatus = document.getElementById('reviewStatus');

    // 绑定事件
    ralInput.addEventListener('input', handleRalInput);
    ralInput.addEventListener('keypress', e => { if (e.key === 'Enter') handleRalInput(); });
    ralSelect.addEventListener('change', handleRalSelect);
    volumeSelect.addEventListener('change', updateFormula);

    // 初始化UI
    generateColorGrid();
    switchLanguage('zh'); 
});

// --- 事件处理函数 ---
const handleRalInput = () => {
    const ralCode = ralInput.value.trim().replace(/\.0$/, '');
    if (ralCode && ralPaintMap[ralCode]) {
        displayColorInfo(ralCode);
        ralSelect.value = ralCode;
        updateSelectedSwatch(ralCode);
    }
};

const handleRalSelect = () => {
    const ralCode = ralSelect.value;
    if (ralCode) {
        ralInput.value = ralCode;
        displayColorInfo(ralCode);
        updateSelectedSwatch(ralCode);
    }
};

const updateFormula = () => {
    if (currentColorData) {
        displayColorInfo(ralInput.value.replace(/\.0$/, ''));
    }
};

const switchLanguage = (lang) => {
    currentLanguage = lang;
    document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
    document.querySelector(`button[onclick="switchLanguage('${lang}')"]`).classList.add('active');

    document.querySelectorAll('.zh, .en, .ja').forEach(el => el.classList.add('hidden'));
    document.querySelectorAll(`.${lang}`).forEach(el => el.classList.remove('hidden'));
    
    populateRalSelect();
    ralInput.placeholder = {'zh': '例如: 3020', 'en': 'e.g., 3020', 'ja': '例: 3020'}[lang];

    if (currentColorData) {
        displayColorInfo(ralInput.value.replace(/\.0$/, ''));
    }
};

// --- UI 渲染函数 ---
const populateRalSelect = () => {
    const currentVal = ralSelect.value;
    const defaultText = {'zh': '或从下拉菜单选择...', 'en': 'Or select from dropdown...', 'ja': 'またはドロップダウンから選択...'}[currentLanguage];
    ralSelect.innerHTML = `<option value="">${defaultText}</option>`;
    for (const code in ralPaintMap) {
        const option = document.createElement('option');
        option.value = code;
        option.textContent = `RAL ${code} - ${ralPaintMap[code].name[currentLanguage]}`;
        ralSelect.appendChild(option);
    }
    ralSelect.value = currentVal;
};

const generateColorGrid = () => {
    colorGrid.innerHTML = '';
    for (const code in ralPaintMap) {
        const data = ralPaintMap[code];
        const swatch = document.createElement('div');
        swatch.className = 'color-swatch';
        swatch.dataset.ral = code;
        swatch.style.backgroundColor = data.rgb;
        swatch.textContent = code;
        swatch.onclick = (e) => selectColor(code, e.currentTarget);
        colorGrid.appendChild(swatch);
    }
};

const selectColor = (ralCode, target) => {
    ralInput.value = ralCode;
    ralSelect.value = ralCode;
    displayColorInfo(ralCode);
    updateSelectedSwatch(ralCode);
};

const updateSelectedSwatch = (ralCode) => {
    document.querySelectorAll('.color-swatch.selected').forEach(sw => sw.classList.remove('selected'));
    const newSelected = document.querySelector(`.color-swatch[data-ral="${ralCode}"]`);
    if (newSelected) {
        newSelected.classList.add('selected');
    }
};

const displayColorInfo = (ralCode) => {
    const colorData = ralPaintMap[ralCode];
    if (!colorData) { showError(); return; }
    
    currentColorData = colorData;
    resultsContainer.style.display = 'grid';
    errorMsg.style.display = 'none';

    colorPreview.style.background = colorData.rgb;
    colorPreview.innerHTML = `RAL ${ralCode}`;
    const rgb = hexToRgb(colorData.rgb);
    colorPreview.style.color = (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000 > 128 ? '#000' : '#fff';
    
    document.getElementById('colorInfo').innerHTML = `RAL ${ralCode} - ${colorData.name[currentLanguage]}<br>RGB: ${colorData.rgb}<br>LAB: L=${colorData.lab.L.toFixed(2)}, a=${colorData.lab.a.toFixed(2)}, b=${colorData.lab.b.toFixed(2)}`;

    const formula = calculateAdvancedFormula(colorData.lab.L, colorData.lab.a, colorData.lab.b);
    displayFormula(formula, parseInt(volumeSelect.value));
    
    const predictedLab = predictMixedLab(formula, parseInt(volumeSelect.value));
    const deltaE = calculateDeltaE2000(colorData.lab, predictedLab);
    
    deltaEDisplay.textContent = deltaE.toFixed(2);
    const status = deltaE < 2.0 ? 'pass' : 'fail';
    const statusTexts = {
        'pass': {'zh': '✅ 符合标准', 'en': '✅ Meets Standard', 'ja': '✅ 基準適合'},
        'fail': {'zh': '⚠️ 存在差异', 'en': '⚠️ Difference Found', 'ja': '⚠️ 違いあり'}
    };
    reviewStatus.className = status;
    reviewStatus.textContent = statusTexts[status][currentLanguage];
};

const displayFormula = (formula, baseVolume) => {
    recipeList.innerHTML = '';
    let totalWeight = 0;
    Object.entries(formula).forEach(([pigmentType, weight]) => {
        const scaledWeight = weight * (baseVolume / 1000);
        if (scaledWeight <= 0.05) return;
        const names = pigmentNameMap[pigmentType];
        const li = document.createElement('li');
        li.innerHTML = `<span><span class="zh">${names.zh}</span><span class="en hidden">${names.en}</span><span class="ja hidden">${names.ja}</span></span><span>${scaledWeight.toFixed(1)}g</span>`;
        recipeList.appendChild(li);
        totalWeight += scaledWeight;
    });
    if (totalWeight > 0) {
        const totalTexts = {zh: `总计 (${baseVolume}ml透明基础漆)`, en: `Total (${baseVolume}ml Clear Base)`, ja: `合計 (${baseVolume}ml透明ベース)`};
        const li = document.createElement('li');
        li.innerHTML = `<strong><span class="zh">${totalTexts.zh}</span><span class="en hidden">${totalTexts.en}</span><span class="ja hidden">${totalTexts.ja}</span></strong><strong>${totalWeight.toFixed(1)}g</strong>`;
        recipeList.appendChild(li);
    }
    document.querySelectorAll(`#recipeList .${currentLanguage}`).forEach(el => el.classList.remove('hidden'));
};

// --- 核心计算与模拟 ---
const predictMixedLab = (formula, baseVolume) => {
    let L=0, a=0, b=0, totalWeight=0;
    const baseLab={L:98,a:0,b:0}; L=baseLab.L*baseVolume; totalWeight=baseVolume;
    Object.entries(formula).forEach(([pigment,weight])=>{const scaledWeight=weight*(baseVolume/1000);if(scaledWeight>0){const lab=pigmentLabValues[pigment];L+=lab.L*scaledWeight;a+=lab.a*scaledWeight;b+=lab.b*scaledWeight;totalWeight+=scaledWeight}});
    return totalWeight===0?{L:0,a:0,b:0}:{L:L/totalWeight,a:a/totalWeight,b:b/totalWeight};
};

const calculateDeltaE2000 = (lab1, lab2) => {
    const [L1,a1,b1]=[lab1.L,lab1.a,lab1.b], [L2,a2,b2]=[lab2.L,lab2.a,lab2.b], [kL,kC,kH]=[1,1,1];
    const C1=Math.sqrt(a1**2+b1**2), C2=Math.sqrt(a2**2+b2**2), avgC=(C1+C2)/2, G=0.5*(1-Math.sqrt(avgC**7/(avgC**7+25**7)));
    const a1_ = a1*(1+G), a2_ = a2*(1+G), C1_=Math.sqrt(a1_**2+b1**2), C2_=Math.sqrt(a2_**2+b2**2), avgC_=(C1_+C2_)/2;
    let h1_ = Math.atan2(b1, a1_)*(180/Math.PI); if (h1_<0) h1_+=360;
    let h2_ = Math.atan2(b2, a2_)*(180/Math.PI); if (h2_<0) h2_+=360;
    const avgL_=(L1+L2)/2, dL_=L2-L1, dC_=C2_-C1_;
    let dh_; if (C1_*C2_===0) dh_=0; else if(Math.abs(h2_-h1_)<=180) dh_=h2_-h1_; else if(h2_-h1_>180) dh_=h2_-h1_-360; else dh_=h2_-h1_+360;
    const dH_=2*Math.sqrt(C1_*C2_)*Math.sin((dh_*Math.PI/180)/2), avgH_=Math.abs(h1_-h2_)>180?(h1_+h2_+360)/2:(h1_+h2_)/2;
    const T=1-0.17*Math.cos((avgH_-30)*Math.PI/180)+0.24*Math.cos(2*avgH_*Math.PI/180)+0.32*Math.cos((3*avgH_+6)*Math.PI/180)-0.2*Math.cos((4*avgH_-63)*Math.PI/180);
    const SL=1+(0.015*(avgL_-50)**2)/Math.sqrt(20+(avgL_-50)**2), SC=1+0.045*avgC_, SH=1+0.015*avgC_*T;
    const RT=-2*Math.sqrt(avgC_**7/(avgC_**7+25**7))*Math.sin(60*Math.exp(-((avgH_-275)/25)**2)*Math.PI/180);
    return Math.sqrt((dL_/(kL*SL))**2+(dC_/(kC*SC))**2+(dH_/(kH*SH))**2+RT*(dC_/(kC*SC))*(dH_/(kH*SH)));
};

const calculateAdvancedFormula = (L, a, b) => {
    const formula = {}, chroma=Math.sqrt(a*a+b*b), hue=(Math.atan2(b, a)*180/Math.PI+360)%360;
    const c_int=Math.min(chroma/85,1), l_int=(100-L)/100;
    if(L>90)formula.titanium_white=(L-90)/5*40; if(L<40)formula.carbon_black=(40-L)/35*20;
    if(hue>=0&&hue<35){const r=(35-hue)/35,o=hue/35;formula.iron_oxide_red=r*c_int*35;formula.organic_orange=o*c_int*30;if(L<45)formula.quinacridone_magenta=c_int*10}
    else if(hue>=35&&hue<60){const o=(60-hue)/25,y=(hue-35)/25;formula.organic_orange=o*c_int*35;formula.iron_oxide_yellow=y*c_int*45}
    else if(hue>=60&&hue<100){formula.iron_oxide_yellow=c_int*45}
    else if(hue>=100&&hue<160){const y=(160-hue)/60,g=(hue-100)/60;formula.iron_oxide_yellow=y*c_int*45;if(g>0.1)formula[chroma>45?'phthalocyanine_green':'chromium_oxide_green']=g*c_int*(chroma>45?28:35)}
    else if(hue>=160&&hue<220){const g=(220-hue)/60,b=(hue-160)/60;if(g>0.1)formula[chroma>45?'phthalocyanine_green':'chromium_oxide_green']=g*c_int*(chroma>45?28:35);if(b>0.1)formula[L<45?'prussian_blue':'phthalocyanine_blue']=b*c_int*(L<45?22:28)}
    else if(hue>=220&&hue<280){formula[chroma>40?'phthalocyanine_blue':'ultramarine_blue']=c_int*30}
    else if(hue>=280&&hue<320){const b=(320-hue)/40,v=(hue-280)/40;formula.ultramarine_blue=b*c_int*28;formula.quinacridone_violet=v*c_int*30}
    else{const v=(360-hue)/40,m=(hue-320)/40;formula.quinacridone_violet=v*c_int*30;formula.quinacridone_magenta=m*c_int*38}
    if(hue>=25&&hue<=80&&L<55&&chroma<40){formula.iron_oxide_brown=c_int*28;formula.raw_umber=l_int*18}
    return formula;
};

// --- 辅助工具函数 ---
const showError = () => { resultsContainer.style.display='none'; errorMsg.style.display='block'; };
const hexToRgb = (hex) => { const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex); return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null; };
</script>

</body>
</html>