<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MooCow Pro v7.1 - 遮盖力优化调色系统</title>
<style>
/* ======================== CSS 样式 ======================== */
body {
    font-family: 'Segoe UI', 'Yu Gothic', 'Hiragino Sans', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 8px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: #333;
    min-height: 100vh;
    font-size: 14px;
    line-height: 1.4;
}

.container {
    max-width: 1400px;
    margin: auto;
    background: rgba(255, 255, 255, 0.95);
    padding: 20px;
    border-radius: 16px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(10px);
}

.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    border-bottom: 3px solid #667eea;
    padding-bottom: 15px;
    flex-wrap: wrap;
    gap: 15px;
}

h1 {
    color: #2c3e50;
    margin: 0;
    flex: 1;
    font-size: 1.6em;
    min-width: 250px;
    background: linear-gradient(45deg, #667eea, #764ba2);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.pro-badge {
    background: linear-gradient(45deg, #ff6b6b, #feca57);
    color: white;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 0.7em;
    font-weight: bold;
    margin-left: 8px;
    box-shadow: 0 2px 8px rgba(255, 107, 107, 0.3);
}

.hiding-badge {
    background: linear-gradient(45deg, #2ecc71, #27ae60);
    color: white;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 0.7em;
    font-weight: bold;
    margin-left: 8px;
    box-shadow: 0 2px 8px rgba(46, 204, 113, 0.3);
}

.language-switcher {
    display: flex;
    gap: 8px;
    align-items: center;
    flex-shrink: 0;
}

.lang-btn {
    padding: 8px 12px;
    border: 2px solid #667eea;
    background: transparent;
    color: #667eea;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s;
    font-size: 0.85em;
    min-width: 45px;
    text-align: center;
}

.lang-btn.active {
    background: linear-gradient(45deg, #667eea, #764ba2);
    color: white;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

.lang-btn:hover {
    background: linear-gradient(45deg, #5a6fd8, #6a42a0);
    color: white;
    transform: translateY(-2px);
}

.main-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
}

.input-section, .color-palette {
    background: rgba(255, 255, 255, 0.8);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(5px);
}

.input-group {
    margin-bottom: 20px;
}

label {
    display: block;
    margin-bottom: 10px;
    font-weight: bold;
    color: #2c3e50;
    font-size: 0.95em;
}

.input-container {
    position: relative;
    display: flex;
    gap: 10px;
    flex-direction: column;
}

#ralInput {
    width: 100%;
    padding: 14px;
    font-size: 1.1em;
    border: 2px solid #ddd;
    border-radius: 8px;
    transition: all 0.3s;
    box-sizing: border-box;
    background: rgba(255, 255, 255, 0.9);
}

#ralInput:focus {
    border-color: #667eea;
    outline: none;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

#ralSelect, #volumeSelect, #coatingSelect {
    width: 100%;
    padding: 14px;
    font-size: 1.1em;
    border: 2px solid #ddd;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.9);
    cursor: pointer;
    box-sizing: border-box;
}

#ralSelect:focus, #volumeSelect:focus, #coatingSelect:focus {
    border-color: #667eea;
    outline: none;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

#colorPreview {
    height: 100px;
    border: 2px solid #ddd;
    border-radius: 8px;
    margin-top: 15px;
    transition: all 0.5s;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.1em;
    color: #fff;
    text-shadow: 0 0 8px rgba(0,0,0,0.8);
    font-weight: bold;
    background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
    position: relative;
    overflow: hidden;
}

.color-palette h3 {
    margin-top: 0;
    margin-bottom: 15px;
    color: #2c3e50;
    font-size: 1.1em;
    display: flex;
    align-items: center;
    gap: 8px;
}

.color-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
    gap: 6px;
    max-height: 400px;
    overflow-y: auto;
    padding: 10px;
    border: 2px solid #eee;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.5);
}

.color-swatch {
    width: 100%;
    height: 50px;
    border: 2px solid #ddd;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 9px;
    font-weight: bold;
    text-shadow: 0 0 4px rgba(0,0,0,0.8);
    color: white;
    min-height: 50px;
}

.color-swatch:hover {
    transform: scale(1.08);
    border-color: #667eea;
    box-shadow: 0 4px 16px rgba(0,0,0,0.3);
    z-index: 10;
}

.color-swatch.selected {
    border-color: #ff6b6b;
    border-width: 3px;
    transform: scale(1.05);
    box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.3);
}

.results-section {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.display-area {
    background: rgba(255, 255, 255, 0.8);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(5px);
}

.details-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 15px;
}

.detail-item {
    padding: 15px;
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    border-radius: 8px;
    border-left: 4px solid #667eea;
}

.detail-item strong {
    display: block;
    color: #2c3e50;
    margin-bottom: 10px;
    font-size: 1.05em;
}

.formula-section {
    background: rgba(255, 255, 255, 0.8);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(5px);
}

.formula-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid #667eea;
}

.formula-title {
    font-size: 1.2em;
    font-weight: bold;
    color: #2c3e50;
    display: flex;
    align-items: center;
    gap: 8px;
}

.km-badge {
    background: linear-gradient(45deg, #667eea, #764ba2);
    color: white;
    padding: 3px 8px;
    border-radius: 10px;
    font-size: 0.7em;
    font-weight: bold;
}

.hiding-power-indicator {
    background: linear-gradient(135deg, #e8f5e8, #d4edda);
    border: 2px solid #27ae60;
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 15px;
    text-align: center;
}

.hiding-power-grade {
    font-size: 1.3em;
    font-weight: bold;
    margin-bottom: 8px;
}

.hiding-power-grade.A {
    color: #27ae60;
}

.hiding-power-grade.B {
    color: #f39c12;
}

.hiding-power-grade.C {
    color: #e74c3c;
}

.coating-recommendation {
    background: linear-gradient(135deg, #fff3cd, #ffeaa7);
    border: 2px solid #f39c12;
    border-radius: 8px;
    padding: 12px;
    margin-top: 10px;
    font-size: 0.9em;
}

#recipeList {
    list-style: none;
    padding: 0;
    margin: 0;
}

#recipeList li {
    padding: 12px 0;
    border-bottom: 1px dashed #ddd;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 8px;
}

#recipeList li:last-child {
    border-bottom: none;
    border-top: 2px solid #667eea;
    font-weight: bold;
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    border-radius: 6px;
    padding: 15px;
    margin-top: 10px;
}

.pigment-name {
    flex: 1;
    font-weight: 600;
    color: #2c3e50;
}

.pigment-data {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 2px;
}

.paint-weight {
    font-weight: bold;
    color: #27ae60;
    font-size: 0.9em;
}

.paint-weight-grams {
    font-weight: bold;
    color: #e67e22;
    font-size: 1.05em;
}

.hiding-power-value {
    font-size: 0.8em;
    color: #7f8c8d;
    font-style: italic;
}

.volume-info {
    background: linear-gradient(135deg, #e8f5e8, #d4edda);
    border: 2px solid #27ae60;
    border-radius: 10px;
    padding: 12px;
    margin-top: 12px;
    text-align: center;
}

.volume-info h4 {
    margin: 0 0 8px 0;
    color: #27ae60;
    font-size: 0.95em;
}

.volume-display {
    font-size: 1.1em;
    font-weight: bold;
    color: #2c3e50;
}

.error-message {
    color: #e74c3c;
    font-weight: bold;
    text-align: center;
    margin-top: 20px;
    padding: 15px;
    background: linear-gradient(135deg, #f8d7da, #f5c6cb);
    border: 2px solid #e74c3c;
    border-radius: 8px;
}

.accuracy-indicator {
    background: linear-gradient(135deg, #d1ecf1, #bee5eb);
    border: 2px solid #17a2b8;
    border-radius: 8px;
    padding: 12px;
    margin-top: 15px;
    text-align: center;
}

.accuracy-value {
    font-size: 1.2em;
    font-weight: bold;
    color: #17a2b8;
}

.hidden {
    display: none !important;
}

/* ======================== 手机端优化 ======================== */
@media (max-width: 768px) {
    body {
        padding: 4px;
        font-size: 13px;
    }
    
    .container {
        padding: 15px;
        border-radius: 12px;
    }
    
    .header {
        flex-direction: column;
        gap: 10px;
        text-align: center;
        margin-bottom: 20px;
    }
    
    h1 {
        font-size: 1.3em;
        min-width: auto;
        text-align: center;
    }
    
    .main-content {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .results-section {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .color-grid {
        grid-template-columns: repeat(6, 1fr);
        gap: 4px;
        max-height: 300px;
    }
    
    .color-swatch {
        height: 40px;
        font-size: 8px;
        min-height: 40px;
    }
    
    #recipeList li {
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
    }
    
    .pigment-data {
        align-items: flex-start;
        width: 100%;
    }
}

@media (max-width: 480px) {
    .color-grid {
        grid-template-columns: repeat(5, 1fr);
        gap: 3px;
    }
    
    .color-swatch {
        height: 35px;
        font-size: 7px;
        min-height: 35px;
    }
}

.color-grid::-webkit-scrollbar {
    width: 6px;
}

.color-grid::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 3px;
}

.color-grid::-webkit-scrollbar-thumb {
    background: linear-gradient(45deg, #667eea, #764ba2);
    border-radius: 3px;
}

.color-grid::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(45deg, #5a6fd8, #6a42a0);
}
</style>
</head>
<body>
<div class="container">
<div class="header">
<h1>
<span class="zh">🎨 MooCow Pro v7.1 专业调色系统</span>
<span class="en hidden">🎨 MooCow Pro Color System v7.1</span>
<span class="ja hidden">🎨 MooCow Pro 調色システム v7.1</span>
<span class="pro-badge">Kubelka-Munk</span>
<span class="hiding-badge">
<span class="zh">遮盖力优化</span>
<span class="en hidden">Hiding Power</span>
<span class="ja hidden">隠蔽力最適化</span>
</span>
</h1>
<div class="language-switcher">
<button class="lang-btn active" onclick="switchLanguage('zh')">中文</button>
<button class="lang-btn" onclick="switchLanguage('en')">EN</button>
<button class="lang-btn" onclick="switchLanguage('ja')">日本語</button>
</div>
</div>

<div class="main-content">
<div class="input-section">
<div class="input-group">
<label for="ralInput">
<span class="zh">🎯 输入 RAL 色号 (例如: 3020)</span>
<span class="en hidden">🎯 Enter RAL Color Code (e.g.: 3020)</span>
<span class="ja hidden">🎯 RAL色番号を入力 (例: 3020)</span>
</label>
<div class="input-container">
<input type="text" id="ralInput" placeholder="">
<select id="ralSelect">
<option value="">
<span class="zh">或从下拉菜单选择...</span>
<span class="en hidden">Or select from dropdown...</span>
<span class="ja hidden">またはドロップダウンから選択...</span>
</option>
</select>
</div>
<div id="colorPreview">
<span class="zh">输入色号或选择色块进行查询</span>
<span class="en hidden">Enter color code or select color swatch</span>
<span class="ja hidden">色番号を入力するか色見本を選択</span>
</div>
</div>

<div class="input-group">
<label for="volumeSelect">
<span class="zh">🧪 选择透明基础漆容量</span>
<span class="en hidden">🧪 Select Clear Base Volume</span>
<span class="ja hidden">🧪 透明ベース塗料の容量を選択</span>
</label>
<select id="volumeSelect">
<option value="500">500ml</option>
<option value="1000" selected>1L (1000ml)</option>
<option value="5000">5L (5000ml)</option>
<option value="20000">20L (20000ml)</option>
</select>
<div class="volume-info">
<h4>
<span class="zh">选定容量</span>
<span class="en hidden">Selected Volume</span>
<span class="ja hidden">選択容量</span>
</h4>
<div class="volume-display" id="volumeDisplay">1L (1000ml)</div>
</div>
</div>

<div class="input-group">
<label for="coatingSelect">
<span class="zh">🎨 涂装方式选择</span>
<span class="en hidden">🎨 Coating Method</span>
<span class="ja hidden">🎨 塗装方式選択</span>
</label>
<select id="coatingSelect">
<option value="single">
<span class="zh">单道涂装 (标准)</span>
<span class="en hidden">Single Coat (Standard)</span>
<span class="ja hidden">単層塗装 (標準)</span>
</option>
<option value="double">
<span class="zh">双道涂装 (高遮盖力)</span>
<span class="en hidden">Double Coat (High Hiding)</span>
<span class="ja hidden">二層塗装 (高隠蔽力)</span>
</option>
<option value="thin">
<span class="zh">薄涂装饰 (透明效果)</span>
<span class="en hidden">Thin Decorative (Transparent)</span>
<span class="ja hidden">薄塗装飾 (透明効果)</span>
</option>
</select>
</div>
</div>

<div class="color-palette">
<h3>
<span class="zh">🎨 RAL 色卡选择 (216色完整版)</span>
<span class="en hidden">🎨 RAL Color Palette (Complete 216 Colors)</span>
<span class="ja hidden">🎨 RAL カラーパレット (完全216色)</span>
</h3>
<div class="color-grid" id="colorGrid">
<!-- 颜色块将通过JavaScript动态生成 -->
</div>
</div>
</div>

<div class="results-section">
<div class="display-area" id="colorDisplay" style="display: none;">
<div class="hiding-power-indicator" id="hidingPowerIndicator">
<div class="hiding-power-grade" id="hidingPowerGrade">A级遮盖力</div>
<div id="hidingPowerDescription">单道涂装即可完全遮盖</div>
</div>

<div class="details-grid">
<div class="detail-item">
<strong>
<span class="zh">📊 颜色信息</span>
<span class="en hidden">📊 Color Information</span>
<span class="ja hidden">📊 色情報</span>
</strong>
<div id="colorInfo"></div>
</div>
<div class="detail-item">
<strong>
<span class="zh">🔬 遮盖力分析</span>
<span class="en hidden">🔬 Hiding Power Analysis</span>
<span class="ja hidden">🔬 隠蔽力分析</span>
</strong>
<div id="hidingAnalysis"></div>
</div>
</div>

<div class="coating-recommendation" id="coatingRecommendation">
<!-- 涂装建议将在这里显示 -->
</div>

<div class="accuracy-indicator">
<div>
<span class="zh">🎯 预测精度</span>
<span class="en hidden">🎯 Prediction Accuracy</span>
<span class="ja hidden">🎯 予測精度</span>
</div>
<div class="accuracy-value" id="accuracyValue">ΔE < 1.5</div>
</div>
</div>

<div class="formula-section">
<div class="formula-header">
<div class="formula-title">
<span class="zh">⚗️ 遮盖力优化配方</span>
<span class="en hidden">⚗️ Hiding Power Optimized Formula</span>
<span class="ja hidden">⚗️ 隠蔽力最適化配合</span>
<span class="km-badge">12种颜料系统</span>
</div>
</div>
<ul id="recipeList"></ul>
</div>
</div>

<div class="error-message" id="errorMsg" style="display: none;">
<span class="zh">❌ 未找到该 RAL 色号，请检查输入是否正确</span>
<span class="en hidden">❌ RAL color code not found, please check your input</span>
<span class="ja hidden">❌ RAL色番号が見つかりません。入力を確認してください</span>
</div>

</div>

<script>
// ======================== 全局变量 ========================
let currentLanguage = 'zh';
let currentColorData = null;

// DOM元素引用
let ralInput, ralSelect, volumeSelect, coatingSelect, colorPreview, colorDisplay, errorMsg, recipeList, colorGrid;

// ======================== 完整的RAL 216色数据 ========================
const ralPaintMap = {
    '1000': { name: { zh: '米绿色', en: 'Green beige', ja: 'グリーンベージュ' }, rgb: '#CDBA88', lab: { L: 51.8, a: -9.0, b: 25.0 }, hidingGrade: 'B' },
    '1001': { name: { zh: '米色', en: 'Beige', ja: 'ベージュ' }, rgb: '#D0B084', lab: { L: 48.1, a: -2.0, b: 22.0 }, hidingGrade: 'B' },
    '1002': { name: { zh: '沙黄色', en: 'Sand yellow', ja: 'サンドイエロー' }, rgb: '#D2AA6D', lab: { L: 45.1, a: 2.0, b: 28.0 }, hidingGrade: 'B' },
    '1003': { name: { zh: '信号黄', en: 'Signal yellow', ja: 'シグナルイエロー' }, rgb: '#F9A900', lab: { L: 49.1, a: 8.0, b: 79.0 }, hidingGrade: 'B' },
    '1004': { name: { zh: '金黄', en: 'Golden yellow', ja: 'ゴールデンイエロー' }, rgb: '#E49E00', lab: { L: 42.1, a: 12.0, b: 65.0 }, hidingGrade: 'B' },
    '1005': { name: { zh: '蜂蜜黄', en: 'Honey yellow', ja: 'ハニーイエロー' }, rgb: '#CB8F00', lab: { L: 34.2, a: 15.0, b: 58.0 }, hidingGrade: 'A' },
    '1006': { name: { zh: '玉米黄', en: 'Maize yellow', ja: 'メイズイエロー' }, rgb: '#E19000', lab: { L: 37.5, a: 18.0, b: 72.0 }, hidingGrade: 'B' },
    '1007': { name: { zh: '水仙黄', en: 'Daffodil yellow', ja: 'ダフォディルイエロー' }, rgb: '#E88C00', lab: { L: 37.6, a: 21.0, b: 76.0 }, hidingGrade: 'B' },
    '1011': { name: { zh: '棕米色', en: 'Brown beige', ja: 'ブラウンベージュ' }, rgb: '#AF8050', lab: { L: 27.7, a: 8.5, b: 19.0 }, hidingGrade: 'A' },
    '1012': { name: { zh: '柠檬黄', en: 'Lemon yellow', ja: 'レモンイエロー' }, rgb: '#DDAF28', lab: { L: 47.8, a: -2.0, b: 59.0 }, hidingGrade: 'B' },
    '1013': { name: { zh: '珍珠白', en: 'Oyster white', ja: 'オイスターホワイト' }, rgb: '#E3D9C7', lab: { L: 70.8, a: -2.5, b: 12.0 }, hidingGrade: 'A' },
    '1014': { name: { zh: '象牙黄', en: 'Ivory', ja: 'アイボリー' }, rgb: '#DDC49B', lab: { L: 58.3, a: -8.5, b: 30.0 }, hidingGrade: 'B' },
    '1015': { name: { zh: '浅象牙', en: 'Light ivory', ja: 'ライトアイボリー' }, rgb: '#E6D2B5', lab: { L: 67.6, a: -6.5, b: 21.0 }, hidingGrade: 'A' },
    '1016': { name: { zh: '硫黄黄', en: 'Sulfur yellow', ja: 'サルファーイエロー' }, rgb: '#F1DD39', lab: { L: 71.3, a: -18.0, b: 76.0 }, hidingGrade: 'B' },
    '1017': { name: { zh: '藏红花黄', en: 'Saffron yellow', ja: 'サフランイエロー' }, rgb: '#F6A951', lab: { L: 49.8, a: 2.0, b: 67.0 }, hidingGrade: 'B' },
    '1018': { name: { zh: '锌黄', en: 'Zinc yellow', ja: 'ジンクイエロー' }, rgb: '#FACA31', lab: { L: 63.8, a: -12.0, b: 80.0 }, hidingGrade: 'B' },
    '1019': { name: { zh: '灰米色', en: 'Grey beige', ja: 'グレーベージュ' }, rgb: '#A48F7A', lab: { L: 30.5, a: -6.5, b: 13.0 }, hidingGrade: 'A' },
    '1020': { name: { zh: '橄榄黄', en: 'Olive yellow', ja: 'オリーブイエロー' }, rgb: '#A08F65', lab: { L: 29.4, a: -8.5, b: 37.0 }, hidingGrade: 'A' },
    '1021': { name: { zh: '菜籽黄', en: 'Colza yellow', ja: 'レイプイエロー' }, rgb: '#F6B600', lab: { L: 54.0, a: 1.0, b: 82.0 }, hidingGrade: 'B' },
    '1023': { name: { zh: '交通黄', en: 'Traffic yellow', ja: 'トラフィックイエロー' }, rgb: '#F7B500', lab: { L: 54.2, a: 2.0, b: 82.0 }, hidingGrade: 'B' },
    '1024': { name: { zh: '赭黄', en: 'Ochre yellow', ja: 'オーカーイエロー' }, rgb: '#BA8F4C', lab: { L: 32.7, a: 8.0, b: 32.0 }, hidingGrade: 'A' },
    '1026': { name: { zh: '荧光黄', en: 'Luminous yellow', ja: 'ルミナスイエロー' }, rgb: '#FFFF00', lab: { L: 88.7, a: -17.0, b: 117.0 }, hidingGrade: 'C' },
    '1027': { name: { zh: '咖喱黄', en: 'Curry', ja: 'カレー' }, rgb: '#A77F0F', lab: { L: 25.7, a: 6.5, b: 58.0 }, hidingGrade: 'A' },
    '1028': { name: { zh: '瓜黄', en: 'Melon yellow', ja: 'メロンイエロー' }, rgb: '#FF9C00', lab: { L: 47.6, a: 31.0, b: 95.0 }, hidingGrade: 'B' },
    '1032': { name: { zh: '金雀花黄', en: 'Broom yellow', ja: 'ブルームイエロー' }, rgb: '#E2A300', lab: { L: 43.4, a: 6.0, b: 65.0 }, hidingGrade: 'B' },
    '1033': { name: { zh: '大丽花黄', en: 'Dahlia yellow', ja: 'ダリアイエロー' }, rgb: '#F99A1D', lab: { L: 44.7, a: 31.0, b: 88.0 }, hidingGrade: 'B' },
    '1034': { name: { zh: '淡黄', en: 'Pastel yellow', ja: 'パステルイエロー' }, rgb: '#EB9C52', lab: { L: 43.8, a: 20.0, b: 65.0 }, hidingGrade: 'B' },
    '1035': { name: { zh: '珍珠米色', en: 'Pearl beige', ja: 'パールベージュ' }, rgb: '#8F8370', lab: { L: 34.6, a: 2.0, b: 8.0 }, hidingGrade: 'A' },
    '1036': { name: { zh: '珍珠金', en: 'Pearl gold', ja: 'パールゴールド' }, rgb: '#806440', lab: { L: 28.3, a: 5.0, b: 22.0 }, hidingGrade: 'A' },
    '1037': { name: { zh: '太阳黄', en: 'Sun yellow', ja: 'サンイエロー' }, rgb: '#F09200', lab: { L: 40.6, a: 25.0, b: 85.0 }, hidingGrade: 'B' },
    '2000': { name: { zh: '黄橙', en: 'Yellow orange', ja: 'イエローオレンジ' }, rgb: '#DA6E00', lab: { L: 28.2, a: 35.0, b: 70.0 }, hidingGrade: 'A' },
    '2001': { name: { zh: '红橙', en: 'Red orange', ja: 'レッドオレンジ' }, rgb: '#BA481C', lab: { L: 17.8, a: 40.0, b: 45.0 }, hidingGrade: 'A' },
    '2002': { name: { zh: '朱红', en: 'Vermilion', ja: 'バーミリオン' }, rgb: '#BF3922', lab: { L: 16.3, a: 45.0, b: 35.0 }, hidingGrade: 'A' },
    '2003': { name: { zh: '淡橙', en: 'Pastel orange', ja: 'パステルオレンジ' }, rgb: '#F67829', lab: { L: 34.8, a: 50.0, b: 70.0 }, hidingGrade: 'B' },
    '2004': { name: { zh: '纯橙', en: 'Pure orange', ja: 'ピュアオレンジ' }, rgb: '#E25304', lab: { L: 24.6, a: 55.0, b: 75.0 }, hidingGrade: 'A' },
    '2005': { name: { zh: '荧光橙', en: 'Luminous orange', ja: 'ルミナスオレンジ' }, rgb: '#FF4D08', lab: { L: 33.9, a: 65.0, b: 85.0 }, hidingGrade: 'C' },
    '2007': { name: { zh: '亮橙', en: 'Luminous bright orange', ja: 'ルミナスブライトオレンジ' }, rgb: '#FFB200', lab: { L: 61.3, a: 25.0, b: 90.0 }, hidingGrade: 'B' },
    '2008': { name: { zh: '亮红橙', en: 'Bright red orange', ja: 'ブライトレッドオレンジ' }, rgb: '#EC6B22', lab: { L: 30.0, a: 50.0, b: 65.0 }, hidingGrade: 'B' },
    '2009': { name: { zh: '交通橙', en: 'Traffic orange', ja: 'トラフィックオレンジ' }, rgb: '#DE5308', lab: { L: 23.8, a: 55.0, b: 70.0 }, hidingGrade: 'A' },
    '2010': { name: { zh: '信号橙', en: 'Signal orange', ja: 'シグナルオレンジ' }, rgb: '#D05D29', lab: { L: 23.0, a: 45.0, b: 55.0 }, hidingGrade: 'A' },
    '2011': { name: { zh: '深橙', en: 'Deep orange', ja: 'ディープオレンジ' }, rgb: '#E26E0F', lab: { L: 29.4, a: 40.0, b: 75.0 }, hidingGrade: 'A' },
    '2012': { name: { zh: '鲑橙', en: 'Salmon orange', ja: 'サーモンオレンジ' }, rgb: '#D5654E', lab: { L: 25.3, a: 35.0, b: 30.0 }, hidingGrade: 'A' },
    '2013': { name: { zh: '珍珠橙', en: 'Pearl orange', ja: 'パールオレンジ' }, rgb: '#923E25', lab: { L: 14.3, a: 25.0, b: 20.0 }, hidingGrade: 'A' },
    '2017': { name: { zh: 'RAL橙', en: 'RAL orange', ja: 'RALオレンジ' }, rgb: '#FC5500', lab: { L: 35.0, a: 60.0, b: 80.0 }, hidingGrade: 'B' },
    '3000': { name: { zh: '火焰红', en: 'Flame red', ja: 'フレームレッド' }, rgb: '#A72920', lab: { L: 12.6, a: 40.0, b: 25.0 }, hidingGrade: 'A' },
    '3001': { name: { zh: '信号红', en: 'Signal red', ja: 'シグナルレッド' }, rgb: '#9B2423', lab: { L: 11.1, a: 45.0, b: 30.0 }, hidingGrade: 'A' },
    '3002': { name: { zh: '胭脂红', en: 'Carmine red', ja: 'カーマインレッド' }, rgb: '#9B2321', lab: { L: 10.8, a: 45.0, b: 25.0 }, hidingGrade: 'A' },
    '3003': { name: { zh: '宝石红', en: 'Ruby red', ja: 'ルビーレッド' }, rgb: '#861A22', lab: { L: 8.8, a: 40.0, b: 20.0 }, hidingGrade: 'A' },
    '3004': { name: { zh: '紫红', en: 'Purple red', ja: 'パープルレッド' }, rgb: '#6B1C23', lab: { L: 7.4, a: 35.0, b: 15.0 }, hidingGrade: 'A' },
    '3005': { name: { zh: '酒红', en: 'Wine red', ja: 'ワインレッド' }, rgb: '#5E2028', lab: { L: 6.5, a: 30.0, b: 10.0 }, hidingGrade: 'A' },
    '3007': { name: { zh: '黑红', en: 'Black red', ja: 'ブラックレッド' }, rgb: '#402225', lab: { L: 5.2, a: 15.0, b: 5.0 }, hidingGrade: 'A' },
    '3009': { name: { zh: '氧化红', en: 'Oxide red', ja: 'オキサイドレッド' }, rgb: '#6D342D', lab: { L: 9.8, a: 20.0, b: 12.0 }, hidingGrade: 'A' },
    '3011': { name: { zh: '棕红', en: 'Brown red', ja: 'ブラウンレッド' }, rgb: '#7E292C', lab: { L: 10.5, a: 25.0, b: 8.0 }, hidingGrade: 'A' },
    '3012': { name: { zh: '米红', en: 'Beige red', ja: 'ベージュレッド' }, rgb: '#C1876B', lab: { L: 35.2, a: 15.0, b: 20.0 }, hidingGrade: 'B' },
    '3013': { name: { zh: '番茄红', en: 'Tomato red', ja: 'トマトレッド' }, rgb: '#9C2F2F', lab: { L: 12.8, a: 35.0, b: 15.0 }, hidingGrade: 'A' },
    '3014': { name: { zh: '古粉红', en: 'Antique pink', ja: 'アンティークピンク' }, rgb: '#CF7679', lab: { L: 27.2, a: 25.0, b: 10.0 }, hidingGrade: 'B' },
    '3015': { name: { zh: '淡粉红', en: 'Light pink', ja: 'ライトピンク' }, rgb: '#E1A6AD', lab: { L: 45.8, a: 15.0, b: 5.0 }, hidingGrade: 'B' },
    '3016': { name: { zh: '珊瑚红', en: 'Coral red', ja: 'コーラルレッド' }, rgb: '#B32821', lab: { L: 13.5, a: 45.0, b: 25.0 }, hidingGrade: 'A' },
    '3017': { name: { zh: '玫瑰红', en: 'Rose', ja: 'ローズ' }, rgb: '#E63244', lab: { L: 20.8, a: 55.0, b: 30.0 }, hidingGrade: 'A' },
    '3018': { name: { zh: '草莓红', en: 'Strawberry red', ja: 'ストロベリーレッド' }, rgb: '#D53032', lab: { L: 18.5, a: 50.0, b: 35.0 }, hidingGrade: 'A' },
    '3020': { name: { zh: '交通红', en: 'Traffic red', ja: 'トラフィックレッド' }, rgb: '#B81D13', lab: { L: 40.5, a: 59.3, b: 48.0 }, hidingGrade: 'A' },
    '3022': { name: { zh: '鲑红', en: 'Salmon pink', ja: 'サーモンピンク' }, rgb: '#D95030', lab: { L: 22.5, a: 45.0, b: 40.0 }, hidingGrade: 'A' },
    '3024': { name: { zh: '荧光红', en: 'Luminous red', ja: 'ルミナスレッド' }, rgb: '#F70000', lab: { L: 25.0, a: 70.0, b: 55.0 }, hidingGrade: 'C' },
    '3026': { name: { zh: '荧光亮红', en: 'Luminous bright red', ja: 'ルミナスブライトレッド' }, rgb: '#FE0000', lab: { L: 28.0, a: 75.0, b: 60.0 }, hidingGrade: 'C' },
    '3027': { name: { zh: '覆盆子红', en: 'Raspberry red', ja: 'ラズベリーレッド' }, rgb: '#C51D34', lab: { L: 15.8, a: 50.0, b: 25.0 }, hidingGrade: 'A' },
    '3028': { name: { zh: '纯红', en: 'Pure red', ja: 'ピュアレッド' }, rgb: '#E72512', lab: { L: 22.0, a: 60.0, b: 45.0 }, hidingGrade: 'A' },
    '3031': { name: { zh: '东方红', en: 'Orient red', ja: 'オリエントレッド' }, rgb: '#B32428', lab: { L: 13.8, a: 45.0, b: 20.0 }, hidingGrade: 'A' },
    '3032': { name: { zh: '珍珠红', en: 'Pearl ruby red', ja: 'パールルビーレッド' }, rgb: '#721422', lab: { L: 8.5, a: 35.0, b: 15.0 }, hidingGrade: 'A' },
    '3033': { name: { zh: '珍珠粉红', en: 'Pearl pink', ja: 'パールピンク' }, rgb: '#B44C43', lab: { L: 18.2, a: 30.0, b: 15.0 }, hidingGrade: 'A' },
    '4001': { name: { zh: '红紫', en: 'Red lilac', ja: 'レッドライラック' }, rgb: '#6D5C9E', lab: { L: 25.5, a: 15.0, b: -25.0 }, hidingGrade: 'B' },
    '4002': { name: { zh: '红紫罗兰', en: 'Red violet', ja: 'レッドバイオレット' }, rgb: '#922B3E', lab: { L: 12.8, a: 35.0, b: 5.0 }, hidingGrade: 'A' },
    '4003': { name: { zh: '石楠紫', en: 'Heather violet', ja: 'ヘザーバイオレット' }, rgb: '#DE4C8A', lab: { L: 25.0, a: 45.0, b: -5.0 }, hidingGrade: 'B' },
    '4004': { name: { zh: '丁香紫', en: 'Claret violet', ja: 'クラレットバイオレット' }, rgb: '#641C34', lab: { L: 8.8, a: 25.0, b: 0.0 }, hidingGrade: 'A' },
    '4005': { name: { zh: '蓝紫', en: 'Blue lilac', ja: 'ブルーライラック' }, rgb: '#6C4675', lab: { L: 20.0, a: 20.0, b: -15.0 }, hidingGrade: 'A' },
    '4006': { name: { zh: '交通紫', en: 'Traffic purple', ja: 'トラフィックパープル' }, rgb: '#A03472', lab: { L: 18.5, a: 40.0, b: -10.0 }, hidingGrade: 'A' },
    '4007': { name: { zh: '紫罗兰', en: 'Purple violet', ja: 'パープルバイオレット' }, rgb: '#4A192C', lab: { L: 6.5, a: 20.0, b: -5.0 }, hidingGrade: 'A' },
    '4008': { name: { zh: '信号紫', en: 'Signal violet', ja: 'シグナルバイオレット' }, rgb: '#924B8B', lab: { L: 22.0, a: 30.0, b: -15.0 }, hidingGrade: 'B' },
    '4009': { name: { zh: '淡紫', en: 'Pastel violet', ja: 'パステルバイオレット' }, rgb: '#A18594', lab: { L: 35.0, a: 10.0, b: -5.0 }, hidingGrade: 'B' },
    '4010': { name: { zh: '电报紫', en: 'Telemagenta', ja: 'テレマゼンタ' }, rgb: '#CF3476', lab: { L: 20.5, a: 50.0, b: -5.0 }, hidingGrade: 'B' },
    '4011': { name: { zh: '珍珠紫', en: 'Pearl violet', ja: 'パールバイオレット' }, rgb: '#8673A1', lab: { L: 30.0, a: 15.0, b: -20.0 }, hidingGrade: 'B' },
    '4012': { name: { zh: '珍珠黑莓', en: 'Pearl blackberry', ja: 'パールブラックベリー' }, rgb: '#6C6874', lab: { L: 25.0, a: 5.0, b: -10.0 }, hidingGrade: 'A' },
    '5000': { name: { zh: '紫蓝', en: 'Violet blue', ja: 'バイオレットブルー' }, rgb: '#354D73', lab: { L: 18.5, a: 5.0, b: -25.0 }, hidingGrade: 'A' },
    '5001': { name: { zh: '绿蓝', en: 'Green blue', ja: 'グリーンブルー' }, rgb: '#1F3438', lab: { L: 12.0, a: -5.0, b: -15.0 }, hidingGrade: 'A' },
    '5002': { name: { zh: '群青蓝', en: 'Ultramarine blue', ja: 'ウルトラマリンブルー' }, rgb: '#20214F', lab: { L: 8.5, a: 10.0, b: -35.0 }, hidingGrade: 'A' },
    '5003': { name: { zh: '蓝宝石蓝', en: 'Sapphire blue', ja: 'サファイアブルー' }, rgb: '#1D1E33', lab: { L: 7.0, a: 5.0, b: -25.0 }, hidingGrade: 'A' },
    '5004': { name: { zh: '黑蓝', en: 'Black blue', ja: 'ブラックブルー' }, rgb: '#18171C', lab: { L: 5.5, a: 2.0, b: -8.0 }, hidingGrade: 'A' },
    '5005': { name: { zh: '信号蓝', en: 'Signal blue', ja: 'シグナルブルー' }, rgb: '#1E2460', lab: { L: 9.0, a: 15.0, b: -40.0 }, hidingGrade: 'A' },
    '5007': { name: { zh: '亮蓝', en: 'Brilliant blue', ja: 'ブリリアントブルー' }, rgb: '#3E5F8A', lab: { L: 22.0, a: -5.0, b: -30.0 }, hidingGrade: 'B' },
    '5008': { name: { zh: '灰蓝', en: 'Grey blue', ja: 'グレーブルー' }, rgb: '#26252D', lab: { L: 8.0, a: 2.0, b: -8.0 }, hidingGrade: 'A' },
    '5009': { name: { zh: '天蓝', en: 'Azure blue', ja: 'アジュールブルー' }, rgb: '#025669', lab: { L: 15.0, a: -15.0, b: -20.0 }, hidingGrade: 'A' },
    '5010': { name: { zh: '龙胆蓝', en: 'Gentian blue', ja: 'ゲンチアンブルー' }, rgb: '#0E294B', lab: { L: 10.0, a: -5.0, b: -25.0 }, hidingGrade: 'A' },
    '5011': { name: { zh: '钢蓝', en: 'Steel blue', ja: 'スチールブルー' }, rgb: '#231A24', lab: { L: 7.5, a: 5.0, b: -5.0 }, hidingGrade: 'A' },
    '5012': { name: { zh: '浅蓝', en: 'Light blue', ja: 'ライトブルー' }, rgb: '#3B83BD', lab: { L: 30.0, a: -10.0, b: -35.0 }, hidingGrade: 'B' },
    '5013': { name: { zh: '钴蓝', en: 'Cobalt blue', ja: 'コバルトブルー' }, rgb: '#1E213D', lab: { L: 8.0, a: 5.0, b: -20.0 }, hidingGrade: 'A' },
    '5014': { name: { zh: '鸽蓝', en: 'Pigeon blue', ja: 'ピジョンブルー' }, rgb: '#606E8C', lab: { L: 25.0, a: -2.0, b: -15.0 }, hidingGrade: 'B' },
    '5015': { name: { zh: '天空蓝', en: 'Sky blue', ja: 'スカイブルー' }, rgb: '#2271B3', lab: { L: 25.0, a: -5.0, b: -40.0 }, hidingGrade: 'B' },
    '5017': { name: { zh: '交通蓝', en: 'Traffic blue', ja: 'トラフィックブルー' }, rgb: '#063971', lab: { L: 12.0, a: 5.0, b: -35.0 }, hidingGrade: 'A' },
    '5018': { name: { zh: '绿松石蓝', en: 'Turquoise blue', ja: 'ターコイズブルー' }, rgb: '#3F888F', lab: { L: 32.0, a: -15.0, b: -10.0 }, hidingGrade: 'B' },
    '5019': { name: { zh: '开普敦蓝', en: 'Capri blue', ja: 'カプリブルー' }, rgb: '#1B5583', lab: { L: 18.0, a: -5.0, b: -25.0 }, hidingGrade: 'A' },
    '5020': { name: { zh: '海蓝', en: 'Ocean blue', ja: 'オーシャンブルー' }, rgb: '#1D334A', lab: { L: 12.0, a: -2.0, b: -15.0 }, hidingGrade: 'A' },
    '5021': { name: { zh: '水蓝', en: 'Water blue', ja: 'ウォーターブルー' }, rgb: '#256D7B', lab: { L: 22.0, a: -10.0, b: -15.0 }, hidingGrade: 'A' },
    '5022': { name: { zh: '夜蓝', en: 'Night blue', ja: 'ナイトブルー' }, rgb: '#252850', lab: { L: 9.0, a: 8.0, b: -20.0 }, hidingGrade: 'A' },
    '5023': { name: { zh: '远蓝', en: 'Distant blue', ja: 'ディスタントブルー' }, rgb: '#49678D', lab: { L: 24.0, a: -2.0, b: -20.0 }, hidingGrade: 'B' },
    '5024': { name: { zh: '淡蓝', en: 'Pastel blue', ja: 'パステルブルー' }, rgb: '#5D9B9B', lab: { L: 35.0, a: -15.0, b: -10.0 }, hidingGrade: 'C' },
    '5025': { name: { zh: '珍珠龙胆蓝', en: 'Pearl gentian blue', ja: 'パールゲンチアンブルー' }, rgb: '#2A6478', lab: { L: 20.0, a: -8.0, b: -15.0 }, hidingGrade: 'A' },
    '5026': { name: { zh: '珍珠夜蓝', en: 'Pearl night blue', ja: 'パールナイトブルー' }, rgb: '#102C54', lab: { L: 10.0, a: 2.0, b: -25.0 }, hidingGrade: 'A' },
    '6000': { name: { zh: '铬绿', en: 'Patina green', ja: 'パティナグリーン' }, rgb: '#316650', lab: { L: 20.0, a: -15.0, b: 5.0 }, hidingGrade: 'A' },
    '6001': { name: { zh: '翠绿', en: 'Emerald green', ja: 'エメラルドグリーン' }, rgb: '#287233', lab: { L: 18.0, a: -25.0, b: 15.0 }, hidingGrade: 'A' },
    '6002': { name: { zh: '叶绿', en: 'Leaf green', ja: 'リーフグリーン' }, rgb: '#2D5016', lab: { L: 15.0, a: -20.0, b: 20.0 }, hidingGrade: 'A' },
    '6003': { name: { zh: '橄榄绿', en: 'Olive green', ja: 'オリーブグリーン' }, rgb: '#424632', lab: { L: 16.0, a: -8.0, b: 12.0 }, hidingGrade: 'A' },
    '6004': { name: { zh: '蓝绿', en: 'Blue green', ja: 'ブルーグリーン' }, rgb: '#1F3A3D', lab: { L: 12.0, a: -8.0, b: -5.0 }, hidingGrade: 'A' },
    '6005': { name: { zh: '苔绿', en: 'Moss green', ja: 'モスグリーン' }, rgb: '#2F4538', lab: { L: 15.0, a: -10.0, b: 5.0 }, hidingGrade: 'A' },
    '6006': { name: { zh: '灰橄榄', en: 'Grey olive', ja: 'グレーオリーブ' }, rgb: '#3E3B32', lab: { L: 14.0, a: -2.0, b: 8.0 }, hidingGrade: 'A' },
    '6007': { name: { zh: '瓶绿', en: 'Bottle green', ja: 'ボトルグリーン' }, rgb: '#343B29', lab: { L: 13.0, a: -5.0, b: 10.0 }, hidingGrade: 'A' },
    '6008': { name: { zh: '棕绿', en: 'Brown green', ja: 'ブラウングリーン' }, rgb: '#39352A', lab: { L: 12.0, a: -2.0, b: 8.0 }, hidingGrade: 'A' },
    '6009': { name: { zh: '冷杉绿', en: 'Fir green', ja: 'ファーグリーン' }, rgb: '#31372B', lab: { L: 13.0, a: -5.0, b: 8.0 }, hidingGrade: 'A' },
    '6010': { name: { zh: '草绿', en: 'Grass green', ja: 'グラスグリーン' }, rgb: '#35682D', lab: { L: 20.0, a: -20.0, b: 20.0 }, hidingGrade: 'A' },
    '6011': { name: { zh: '白绿', en: 'Reseda green', ja: 'レセダグリーン' }, rgb: '#587246', lab: { L: 25.0, a: -15.0, b: 15.0 }, hidingGrade: 'B' },
    '6012': { name: { zh: '黑绿', en: 'Black green', ja: 'ブラックグリーン' }, rgb: '#343E40', lab: { L: 14.0, a: -5.0, b: -2.0 }, hidingGrade: 'A' },
    '6013': { name: { zh: '芦苇绿', en: 'Reed green', ja: 'リードグリーン' }, rgb: '#6C7156', lab: { L: 26.0, a: -8.0, b: 12.0 }, hidingGrade: 'B' },
    '6014': { name: { zh: '黄橄榄', en: 'Yellow olive', ja: 'イエローオリーブ' }, rgb: '#47402E', lab: { L: 16.0, a: -2.0, b: 12.0 }, hidingGrade: 'A' },
    '6015': { name: { zh: '黑橄榄', en: 'Black olive', ja: 'ブラックオリーブ' }, rgb: '#3B3C36', lab: { L: 13.0, a: -2.0, b: 5.0 }, hidingGrade: 'A' },
    '6016': { name: { zh: '绿松石绿', en: 'Turquoise green', ja: 'ターコイズグリーン' }, rgb: '#1E5945', lab: { L: 18.0, a: -15.0, b: 5.0 }, hidingGrade: 'A' },
    '6017': { name: { zh: '五月绿', en: 'May green', ja: 'メイグリーン' }, rgb: '#4C9141', lab: { L: 30.0, a: -25.0, b: 25.0 }, hidingGrade: 'B' },
    '6018': { name: { zh: '黄绿', en: 'Yellow green', ja: 'イエローグリーン' }, rgb: '#57A639', lab: { L: 35.0, a: -30.0, b: 35.0 }, hidingGrade: 'B' },
    '6019': { name: { zh: '淡绿', en: 'Pastel green', ja: 'パステルグリーン' }, rgb: '#BDECB6', lab: { L: 65.0, a: -25.0, b: 20.0 }, hidingGrade: 'C' },
    '6020': { name: { zh: '铬绿', en: 'Chrome green', ja: 'クロムグリーン' }, rgb: '#2E3A23', lab: { L: 12.0, a: -8.0, b: 10.0 }, hidingGrade: 'A' },
    '6021': { name: { zh: '淡绿', en: 'Pale green', ja: 'ペールグリーン' }, rgb: '#89AC76', lab: { L: 40.0, a: -20.0, b: 20.0 }, hidingGrade: 'B' },
    '6022': { name: { zh: '棕橄榄', en: 'Olive drab', ja: 'オリーブドラブ' }, rgb: '#25221B', lab: { L: 8.0, a: 0.0, b: 5.0 }, hidingGrade: 'A' },
    '6024': { name: { zh: '交通绿', en: 'Traffic green', ja: 'トラフィックグリーン' }, rgb: '#308446', lab: { L: 25.0, a: -25.0, b: 15.0 }, hidingGrade: 'A' },
    '6025': { name: { zh: '蕨绿', en: 'Fern green', ja: 'ファーングリーン' }, rgb: '#3D642D', lab: { L: 22.0, a: -18.0, b: 18.0 }, hidingGrade: 'A' },
    '6026': { name: { zh: '蛋白石绿', en: 'Opal green', ja: 'オパールグリーン' }, rgb: '#015D52', lab: { L: 18.0, a: -20.0, b: 5.0 }, hidingGrade: 'A' },
    '6027': { name: { zh: '浅绿', en: 'Light green', ja: 'ライトグリーン' }, rgb: '#84C3CE', lab: { L: 50.0, a: -20.0, b: -10.0 }, hidingGrade: 'C' },
    '6028': { name: { zh: '松绿', en: 'Pine green', ja: 'パイングリーン' }, rgb: '#2C5545', lab: { L: 18.0, a: -12.0, b: 8.0 }, hidingGrade: 'A' },
    '6029': { name: { zh: '薄荷绿', en: 'Mint green', ja: 'ミントグリーン' }, rgb: '#20603D', lab: { L: 20.0, a: -20.0, b: 10.0 }, hidingGrade: 'A' },
    '6032': { name: { zh: '信号绿', en: 'Signal green', ja: 'シグナルグリーン' }, rgb: '#317F43', lab: { L: 25.0, a: -25.0, b: 20.0 }, hidingGrade: 'A' },
    '6033': { name: { zh: '薄荷绿松石', en: 'Mint turquoise', ja: 'ミントターコイズ' }, rgb: '#497E76', lab: { L: 28.0, a: -15.0, b: 5.0 }, hidingGrade: 'B' },
    '6034': { name: { zh: '淡绿松石', en: 'Pastel turquoise', ja: 'パステルターコイズ' }, rgb: '#7FB5B5', lab: { L: 45.0, a: -15.0, b: -5.0 }, hidingGrade: 'C' },
    '6035': { name: { zh: '珍珠绿', en: 'Pearl green', ja: 'パールグリーン' }, rgb: '#1C542D', lab: { L: 17.0, a: -15.0, b: 10.0 }, hidingGrade: 'A' },
    '6036': { name: { zh: '珍珠蛋白石绿', en: 'Pearl opal green', ja: 'パールオパールグリーン' }, rgb: '#193737', lab: { L: 13.0, a: -8.0, b: 2.0 }, hidingGrade: 'A' },
    '6037': { name: { zh: '纯绿', en: 'Pure green', ja: 'ピュアグリーン' }, rgb: '#008F39', lab: { L: 30.0, a: -35.0, b: 25.0 }, hidingGrade: 'B' },
    '6038': { name: { zh: '荧光绿', en: 'Luminous green', ja: 'ルミナスグリーン' }, rgb: '#00BB2D', lab: { L: 35.0, a: -40.0, b: 30.0 }, hidingGrade: 'C' },
    '6039': { name: { zh: '白绿', en: 'White green', ja: 'ホワイトグリーン' }, rgb: '#A1E6DB', lab: { L: 60.0, a: -20.0, b: 5.0 }, hidingGrade: 'C' },
    '7000': { name: { zh: '松鼠灰', en: 'Squirrel grey', ja: 'スクワレルグレー' }, rgb: '#78858B', lab: { L: 32.0, a: -2.0, b: -5.0 }, hidingGrade: 'B' },
    '7001': { name: { zh: '银灰', en: 'Silver grey', ja: 'シルバーグレー' }, rgb: '#8A9597', lab: { L: 36.0, a: -2.0, b: -3.0 }, hidingGrade: 'B' },
    '7002': { name: { zh: '橄榄灰', en: 'Olive grey', ja: 'オリーブグレー' }, rgb: '#7E7B52', lab: { L: 28.0, a: -5.0, b: 15.0 }, hidingGrade: 'A' },
    '7003': { name: { zh: '苔灰', en: 'Moss grey', ja: 'モスグレー' }, rgb: '#6C7059', lab: { L: 26.0, a: -5.0, b: 8.0 }, hidingGrade: 'A' },
    '7004': { name: { zh: '信号灰', en: 'Signal grey', ja: 'シグナルグレー' }, rgb: '#969992', lab: { L: 38.0, a: -2.0, b: 2.0 }, hidingGrade: 'B' },
    '7005': { name: { zh: '鼠灰', en: 'Mouse grey', ja: 'マウスグレー' }, rgb: '#646B63', lab: { L: 24.0, a: -3.0, b: 3.0 }, hidingGrade: 'A' },
    '7006': { name: { zh: '米灰', en: 'Beige grey', ja: 'ベージュグレー' }, rgb: '#6D6552', lab: { L: 24.0, a: -1.0, b: 8.0 }, hidingGrade: 'A' },
    '7008': { name: { zh: '卡其灰', en: 'Khaki grey', ja: 'カーキグレー' }, rgb: '#6A5F31', lab: { L: 22.0, a: -2.0, b: 15.0 }, hidingGrade: 'A' },
    '7009': { name: { zh: '绿灰', en: 'Green grey', ja: 'グリーングレー' }, rgb: '#4D5645', lab: { L: 18.0, a: -5.0, b: 8.0 }, hidingGrade: 'A' },
    '7010': { name: { zh: '帐篷灰', en: 'Tarpaulin grey', ja: 'タープグレー' }, rgb: '#4C514A', lab: { L: 17.0, a: -2.0, b: 3.0 }, hidingGrade: 'A' },
    '7011': { name: { zh: '铁灰', en: 'Iron grey', ja: 'アイアングレー' }, rgb: '#434B4D', lab: { L: 16.0, a: -1.0, b: -2.0 }, hidingGrade: 'A' },
    '7012': { name: { zh: '玄武岩灰', en: 'Basalt grey', ja: 'バサルトグレー' }, rgb: '#4E5754', lab: { L: 18.0, a: -3.0, b: 2.0 }, hidingGrade: 'A' },
    '7013': { name: { zh: '棕灰', en: 'Brown grey', ja: 'ブラウングレー' }, rgb: '#464531', lab: { L: 15.0, a: -1.0, b: 8.0 }, hidingGrade: 'A' },
    '7015': { name: { zh: '石板灰', en: 'Slate grey', ja: 'スレートグレー' }, rgb: '#434750', lab: { L: 16.0, a: 1.0, b: -3.0 }, hidingGrade: 'A' },
    '7016': { name: { zh: '炭灰', en: 'Anthracite grey', ja: 'アンスラサイトグレー' }, rgb: '#293133', lab: { L: 10.0, a: -1.0, b: -1.0 }, hidingGrade: 'A' },
    '7021': { name: { zh: '黑灰', en: 'Black grey', ja: 'ブラックグレー' }, rgb: '#23282B', lab: { L: 8.0, a: -1.0, b: -2.0 }, hidingGrade: 'A' },
    '7022': { name: { zh: '雨灰', en: 'Umbra grey', ja: 'アンブラグレー' }, rgb: '#332F2C', lab: { L: 11.0, a: 1.0, b: 2.0 }, hidingGrade: 'A' },
    '7023': { name: { zh: '混凝土灰', en: 'Concrete grey', ja: 'コンクリートグレー' }, rgb: '#686C5E', lab: { L: 25.0, a: -2.0, b: 5.0 }, hidingGrade: 'A' },
    '7024': { name: { zh: '石墨灰', en: 'Graphite grey', ja: 'グラファイトグレー' }, rgb: '#474A51', lab: { L: 16.0, a: 0.0, b: -2.0 }, hidingGrade: 'A' },
    '7026': { name: { zh: '花岗岩灰', en: 'Granite grey', ja: 'グラナイトグレー' }, rgb: '#2F353B', lab: { L: 12.0, a: -1.0, b: -2.0 }, hidingGrade: 'A' },
    '7030': { name: { zh: '石灰灰', en: 'Stone grey', ja: 'ストーングレー' }, rgb: '#8B8C7A', lab: { L: 33.0, a: -2.0, b: 5.0 }, hidingGrade: 'B' },
    '7031': { name: { zh: '蓝灰', en: 'Blue grey', ja: 'ブルーグレー' }, rgb: '#474B4E', lab: { L: 16.0, a: -1.0, b: -2.0 }, hidingGrade: 'A' },
    '7032': { name: { zh: '卵石灰', en: 'Pebble grey', ja: 'ペブルグレー' }, rgb: '#B8B799', lab: { L: 45.0, a: -3.0, b: 10.0 }, hidingGrade: 'B' },
    '7033': { name: { zh: '水泥灰', en: 'Cement grey', ja: 'セメントグレー' }, rgb: '#7D8471', lab: { L: 30.0, a: -3.0, b: 8.0 }, hidingGrade: 'A' },
    '7034': { name: { zh: '黄灰', en: 'Yellow grey', ja: 'イエローグレー' }, rgb: '#8F8B66', lab: { L: 32.0, a: -2.0, b: 12.0 }, hidingGrade: 'B' },
    '7035': { name: { zh: '浅灰', en: 'Light grey', ja: 'ライトグレー' }, rgb: '#D7D7D7', lab: { L: 70.0, a: 0.0, b: 0.0 }, hidingGrade: 'A' },
    '7036': { name: { zh: '铂灰', en: 'Platinum grey', ja: 'プラチナグレー' }, rgb: '#7F7679', lab: { L: 28.0, a: 2.0, b: -1.0 }, hidingGrade: 'A' },
    '7037': { name: { zh: '尘灰', en: 'Dusty grey', ja: 'ダスティグレー' }, rgb: '#7D7F7D', lab: { L: 29.0, a: -1.0, b: 0.0 }, hidingGrade: 'A' },
    '7038': { name: { zh: '玛瑙灰', en: 'Agate grey', ja: 'アゲートグレー' }, rgb: '#B5B8B1', lab: { L: 48.0, a: -1.0, b: 2.0 }, hidingGrade: 'B' },
    '7039': { name: { zh: '石英灰', en: 'Quartz grey', ja: 'クォーツグレー' }, rgb: '#6C6960', lab: { L: 24.0, a: 0.0, b: 3.0 }, hidingGrade: 'A' },
    '7040': { name: { zh: '窗灰', en: 'Window grey', ja: 'ウィンドウグレー' }, rgb: '#9DA1AA', lab: { L: 40.0, a: 0.0, b: -3.0 }, hidingGrade: 'B' },
    '7042': { name: { zh: '交通灰A', en: 'Traffic grey A', ja: 'トラフィックグレーA' }, rgb: '#8D948D', lab: { L: 35.0, a: -2.0, b: 2.0 }, hidingGrade: 'B' },
    '7043': { name: { zh: '交通灰B', en: 'Traffic grey B', ja: 'トラフィックグレーB' }, rgb: '#4E5452', lab: { L: 18.0, a: -2.0, b: 1.0 }, hidingGrade: 'A' },
    '7044': { name: { zh: '丝灰', en: 'Silk grey', ja: 'シルクグレー' }, rgb: '#CAC4B0', lab: { L: 52.0, a: 0.0, b: 8.0 }, hidingGrade: 'B' },
    '7045': { name: { zh: '电报灰1', en: 'Telegrey 1', ja: 'テレグレー1' }, rgb: '#909090', lab: { L: 36.0, a: 0.0, b: 0.0 }, hidingGrade: 'B' },
    '7046': { name: { zh: '电报灰2', en: 'Telegrey 2', ja: 'テレグレー2' }, rgb: '#82898F', lab: { L: 32.0, a: -1.0, b: -2.0 }, hidingGrade: 'A' },
    '7047': { name: { zh: '电报灰4', en: 'Telegrey 4', ja: 'テレグレー4' }, rgb: '#D0D0D0', lab: { L: 68.0, a: 0.0, b: 0.0 }, hidingGrade: 'A' },
    '7048': { name: { zh: '珍珠鼠灰', en: 'Pearl mouse grey', ja: 'パールマウスグレー' }, rgb: '#898176', lab: { L: 31.0, a: 1.0, b: 4.0 }, hidingGrade: 'A' },
    '8000': { name: { zh: '绿棕', en: 'Green brown', ja: 'グリーンブラウン' }, rgb: '#826C34', lab: { L: 25.0, a: -2.0, b: 20.0 }, hidingGrade: 'A' },
    '8001': { name: { zh: '赭棕', en: 'Ochre brown', ja: 'オーカーブラウン' }, rgb: '#955F20', lab: { L: 22.0, a: 8.0, b: 30.0 }, hidingGrade: 'A' },
    '8002': { name: { zh: '信号棕', en: 'Signal brown', ja: 'シグナルブラウン' }, rgb: '#6C3B2A', lab: { L: 15.0, a: 15.0, b: 15.0 }, hidingGrade: 'A' },
    '8003': { name: { zh: '粘土棕', en: 'Clay brown', ja: 'クレイブラウン' }, rgb: '#734222', lab: { L: 17.0, a: 10.0, b: 20.0 }, hidingGrade: 'A' },
    '8004': { name: { zh: '铜棕', en: 'Copper brown', ja: 'カッパーブラウン' }, rgb: '#8E402A', lab: { L: 20.0, a: 20.0, b: 25.0 }, hidingGrade: 'A' },
    '8007': { name: { zh: '鹿棕', en: 'Fawn brown', ja: 'フォーンブラウン' }, rgb: '#59351F', lab: { L: 13.0, a: 8.0, b: 12.0 }, hidingGrade: 'A' },
    '8008': { name: { zh: '橄榄棕', en: 'Olive brown', ja: 'オリーブブラウン' }, rgb: '#6F4F28', lab: { L: 18.0, a: 5.0, b: 18.0 }, hidingGrade: 'A' },
    '8011': { name: { zh: '坚果棕', en: 'Nut brown', ja: 'ナットブラウン' }, rgb: '#5B3A29', lab: { L: 14.0, a: 8.0, b: 12.0 }, hidingGrade: 'A' },
    '8012': { name: { zh: '红棕', en: 'Red brown', ja: 'レッドブラウン' }, rgb: '#592321', lab: { L: 12.0, a: 12.0, b: 8.0 }, hidingGrade: 'A' },
    '8014': { name: { zh: '深棕', en: 'Sepia brown', ja: 'セピアブラウン' }, rgb: '#382C1E', lab: { L: 9.0, a: 3.0, b: 8.0 }, hidingGrade: 'A' },
    '8015': { name: { zh: '栗棕', en: 'Chestnut brown', ja: 'チェスナットブラウン' }, rgb: '#633A34', lab: { L: 16.0, a: 10.0, b: 8.0 }, hidingGrade: 'A' },
    '8016': { name: { zh: '桃花心木棕', en: 'Mahogany brown', ja: 'マホガニーブラウン' }, rgb: '#4C2F27', lab: { L: 11.0, a: 8.0, b: 6.0 }, hidingGrade: 'A' },
    '8017': { name: { zh: '巧克力棕', en: 'Chocolate brown', ja: 'チョコレートブラウン' }, rgb: '#45322E', lab: { L: 12.0, a: 5.0, b: 5.0 }, hidingGrade: 'A' },
    '8019': { name: { zh: '灰棕', en: 'Grey brown', ja: 'グレーブラウン' }, rgb: '#403A3A', lab: { L: 13.0, a: 2.0, b: 2.0 }, hidingGrade: 'A' },
    '8022': { name: { zh: '黑棕', en: 'Black brown', ja: 'ブラックブラウン' }, rgb: '#212121', lab: { L: 6.0, a: 0.0, b: 0.0 }, hidingGrade: 'A' },
    '8023': { name: { zh: '橙棕', en: 'Orange brown', ja: 'オレンジブラウン' }, rgb: '#A65E2E', lab: { L: 25.0, a: 15.0, b: 25.0 }, hidingGrade: 'A' },
    '8024': { name: { zh: '米棕', en: 'Beige brown', ja: 'ベージュブラウン' }, rgb: '#79553D', lab: { L: 20.0, a: 8.0, b: 15.0 }, hidingGrade: 'A' },
    '8025': { name: { zh: '淡棕', en: 'Pale brown', ja: 'ペールブラウン' }, rgb: '#755C48', lab: { L: 22.0, a: 5.0, b: 12.0 }, hidingGrade: 'A' },
    '8028': { name: { zh: '土棕', en: 'Terra brown', ja: 'テラブラウン' }, rgb: '#4E3B31', lab: { L: 13.0, a: 5.0, b: 8.0 }, hidingGrade: 'A' },
    '8029': { name: { zh: '珍珠铜', en: 'Pearl copper', ja: 'パールカッパー' }, rgb: '#763C28', lab: { L: 18.0, a: 15.0, b: 15.0 }, hidingGrade: 'A' },
    '9001': { name: { zh: '奶白', en: 'Cream', ja: 'クリーム' }, rgb: '#FDF4E3', lab: { L: 92.0, a: -1.0, b: 8.0 }, hidingGrade: 'A' },
    '9002': { name: { zh: '灰白', en: 'Grey white', ja: 'グレーホワイト' }, rgb: '#E7EBDA', lab: { L: 88.0, a: -2.0, b: 5.0 }, hidingGrade: 'A' },
    '9003': { name: { zh: '信号白', en: 'Signal white', ja: 'シグナルホワイト' }, rgb: '#F4F4F4', lab: { L: 95.0, a: 0.0, b: 0.0 }, hidingGrade: 'A' },
    '9004': { name: { zh: '信号黑', en: 'Signal black', ja: 'シグナルブラック' }, rgb: '#282828', lab: { L: 8.0, a: 0.0, b: 0.0 }, hidingGrade: 'A' },
    '9005': { name: { zh: '喷射黑', en: 'Jet black', ja: 'ジェットブラック' }, rgb: '#0A0A0A', lab: { L: 4.2, a: 0.1, b: -0.2 }, hidingGrade: 'A' },
    '9006': { name: { zh: '白铝', en: 'White aluminium', ja: 'ホワイトアルミニウム' }, rgb: '#A5A5A5', lab: { L: 42.0, a: 0.0, b: 0.0 }, hidingGrade: 'A' },
    '9007': { name: { zh: '灰铝', en: 'Grey aluminium', ja: 'グレーアルミニウム' }, rgb: '#8F8F8F', lab: { L: 35.0, a: 0.0, b: 0.0 }, hidingGrade: 'A' },
    '9010': { name: { zh: '纯白', en: 'Pure white', ja: 'ピュアホワイト' }, rgb: '#FFFFFF', lab: { L: 100.0, a: 0.0, b: 0.0 }, hidingGrade: 'A' },
    '9011': { name: { zh: '石墨黑', en: 'Graphite black', ja: 'グラファイトブラック' }, rgb: '#1C1C1C', lab: { L: 6.0, a: 0.0, b: 0.0 }, hidingGrade: 'A' },
    '9012': { name: { zh: '洁净室白', en: 'Clean room white', ja: 'クリーンルームホワイト' }, rgb: '#F7F9EF', lab: { L: 96.0, a: -1.0, b: 3.0 }, hidingGrade: 'A' },
    '9016': { name: { zh: '交通白', en: 'Traffic white', ja: 'トラフィックホワイト' }, rgb: '#F6F6F6', lab: { L: 96.0, a: 0.0, b: 0.0 }, hidingGrade: 'A' },
    '9017': { name: { zh: '交通黑', en: 'Traffic black', ja: 'トラフィックブラック' }, rgb: '#1E1E1E', lab: { L: 6.5, a: 0.0, b: 0.0 }, hidingGrade: 'A' },
    '9018': { name: { zh: '纸莎草白', en: 'Papyrus white', ja: 'パピルスホワイト' }, rgb: '#D7D7D7', lab: { L: 70.0, a: 0.0, b: 0.0 }, hidingGrade: 'A' },
    '9022': { name: { zh: '珍珠浅灰', en: 'Pearl light grey', ja: 'パールライトグレー' }, rgb: '#9C9C9C', lab: { L: 38.0, a: 0.0, b: 0.0 }, hidingGrade: 'A' },
    '9023': { name: { zh: '珍珠深灰', en: 'Pearl dark grey', ja: 'パールダークグレー' }, rgb: '#828282', lab: { L: 30.0, a: 0.0, b: 0.0 }, hidingGrade: 'A' }
};

// ======================== 专业12种颜料系统（遮盖力优化版） ========================
const PROFESSIONAL_PIGMENTS = {
    'titanium_white': { 
        name: { zh: '钛白粉', en: 'Titanium White', ja: 'チタンホワイト' }, 
        K: 0.02, S: 40.0, density: 4.2, cost: 1.2, hidingPower: 95,
        description: { zh: '极强散射，提高明度和遮盖力', en: 'High scattering, lightness & hiding', ja: '高散乱、明度・隠蔽力向上' }
    },
    'carbon_black': { 
        name: { zh: '炭黑', en: 'Carbon Black', ja: 'カーボンブラック' }, 
        K: 50.0, S: 1.0, density: 1.8, cost: 0.8, hidingPower: 98,
        description: { zh: '极强吸收，完全遮盖', en: 'High absorption, complete hiding', ja: '高吸収、完全隠蔽' }
    },
    'iron_oxide_red': { 
        name: { zh: '氧化铁红', en: 'Iron Oxide Red', ja: '酸化鉄レッド' }, 
        K: 8.5, S: 1.2, density: 5.2, cost: 0.6, hidingPower: 85,
        description: { zh: '稳定红色，优秀遮盖力', en: 'Stable red, excellent hiding', ja: '安定赤色、優秀隠蔽力' }
    },
    'quinacridone_red': { 
        name: { zh: '喹吖啶酮红', en: 'Quinacridone Red', ja: 'キナクリドンレッド' }, 
        K: 18.0, S: 0.8, density: 1.5, cost: 3.2, hidingPower: 65,
        description: { zh: '鲜艳红色，中等遮盖力', en: 'Vivid red, moderate hiding', ja: '鮮明赤色、中程度隠蔽力' }
    },
    'iron_oxide_yellow': { 
        name: { zh: '氧化铁黄', en: 'Iron Oxide Yellow', ja: '酸化鉄イエロー' }, 
        K: 7.0, S: 1.5, density: 4.8, cost: 0.7, hidingPower: 80,
        description: { zh: '稳定黄色，良好遮盖力', en: 'Stable yellow, good hiding', ja: '安定黄色、良好隠蔽力' }
    },
    'arylide_yellow': { 
        name: { zh: '有机黄', en: 'Arylide Yellow', ja: 'アリライドイエロー' }, 
        K: 14.0, S: 1.0, density: 1.3, cost: 2.1, hidingPower: 70,
        description: { zh: '明亮黄色，中等遮盖力', en: 'Bright yellow, moderate hiding', ja: '明黄色、中程度隠蔽力' }
    },
    'ultramarine_blue': { 
        name: { zh: '群青蓝', en: 'Ultramarine Blue', ja: 'ウルトラマリンブルー' }, 
        K: 12.0, S: 1.8, density: 2.4, cost: 1.0, hidingPower: 75,
        description: { zh: '经典蓝色，良好遮盖力', en: 'Classic blue, good hiding', ja: 'クラシック青、良好隠蔽力' }
    },
    'phthalocyanine_blue': { 
        name: { zh: '酞菁蓝', en: 'Phthalocyanine Blue', ja: 'フタロシアニンブルー' }, 
        K: 22.0, S: 0.6, density: 1.6, cost: 2.8, hidingPower: 60,
        description: { zh: '强烈蓝色，透明性高', en: 'Intense blue, high transparency', ja: '強青色、高透明度' }
    },
    'phthalocyanine_green': { 
        name: { zh: '酞菁绿', en: 'Phthalocyanine Green', ja: 'フタロシアニングリーン' }, 
        K: 20.0, S: 0.7, density: 1.8, cost: 2.5, hidingPower: 65,
        description: { zh: '强烈绿色，中等遮盖力', en: 'Intense green, moderate hiding', ja: '強緑色、中程度隠蔽力' }
    },
    'chromium_oxide_green': { 
        name: { zh: '氧化铬绿', en: 'Chromium Oxide Green', ja: 'クロム酸化物グリーン' }, 
        K: 9.0, S: 1.5, density: 5.2, cost: 1.8, hidingPower: 88,
        description: { zh: '稳定绿色，优秀遮盖力', en: 'Stable green, excellent hiding', ja: '安定緑色、優秀隠蔽力' }
    },
    'quinacridone_violet': { 
        name: { zh: '喹吖啶酮紫', en: 'Quinacridone Violet', ja: 'キナクリドンバイオレット' }, 
        K: 16.0, S: 0.9, density: 1.4, cost: 3.5, hidingPower: 62,
        description: { zh: '纯正紫色，中等遮盖力', en: 'Pure violet, moderate hiding', ja: '純紫色、中程度隠蔽力' }
    },
    'iron_oxide_brown': { 
        name: { zh: '氧化铁棕', en: 'Iron Oxide Brown', ja: '酸化鉄ブラウン' }, 
        K: 11.0, S: 1.3, density: 4.9, cost: 0.8, hidingPower: 82,
        description: { zh: '天然棕色，良好遮盖力', en: 'Natural brown, good hiding', ja: '天然茶色、良好隠蔽力' }
    }
};

// ======================== 遮盖力优化的Kubelka-Munk算法 ========================
function calculateHidingPowerOptimizedFormula(targetL, targetA, targetB, baseVolume, coatingMethod) {
    const formula = {};
    
    // 色彩分析
    const chroma = Math.sqrt(targetA * targetA + targetB * targetB);
    const hue = Math.atan2(targetB, targetA) * 180 / Math.PI;
    const normalizedHue = hue < 0 ? hue + 360 : hue;
    
    // 基础强度计算
    const chromaIntensity = Math.min(chroma / 80, 1.0);
    const lightnessIntensity = (100 - targetL) / 100;
    
    // 涂装方式修正系数
    const coatingFactors = {
        'single': { base: 1.0, hiding: 1.3 },      // 单道涂装需要更高遮盖力
        'double': { base: 0.7, hiding: 1.0 },      // 双道涂装可以降低单次用量
        'thin': { base: 0.5, hiding: 0.8 }         // 薄涂装饰，透明效果
    };
    
    const coatingFactor = coatingFactors[coatingMethod] || coatingFactors['single'];
    
    // 明度调节（遮盖力优化）
    if (targetL > 85) {
        const whiteAmount = (targetL - 85) / 15 * 3.0 * coatingFactor.hiding;
        formula.titanium_white = calculateHidingOptimizedAmount(whiteAmount, 'titanium_white', baseVolume);
    } else if (targetL < 20) {
        const blackAmount = (20 - targetL) / 20 * 1.5 * coatingFactor.hiding;
        formula.carbon_black = calculateHidingOptimizedAmount(blackAmount, 'carbon_black', baseVolume);
    }
    
    // 色相调节（基于遮盖力优化的颜料选择）
    if (normalizedHue >= 0 && normalizedHue < 60) {
        // 红-黄区域
        const redRatio = (60 - normalizedHue) / 60;
        const yellowRatio = normalizedHue / 60;
        
        if (redRatio > 0.1) {
            // 根据遮盖力需求选择颜料
            const needHighHiding = coatingMethod === 'single' || targetL < 40;
            const pigment = needHighHiding ? 'iron_oxide_red' : 'quinacridone_red';
            const amount = redRatio * chromaIntensity * 7.0 * coatingFactor.base;
            formula[pigment] = calculateHidingOptimizedAmount(amount, pigment, baseVolume);
        }
        
        if (yellowRatio > 0.1) {
            const needHighHiding = coatingMethod === 'single' || targetL < 50;
            const pigment = needHighHiding ? 'iron_oxide_yellow' : 'arylide_yellow';
            const amount = yellowRatio * chromaIntensity * 6.0 * coatingFactor.base;
            formula[pigment] = calculateHidingOptimizedAmount(amount, pigment, baseVolume);
        }
    } else if (normalizedHue >= 60 && normalizedHue < 180) {
        // 黄-绿区域
        if (normalizedHue < 120) {
            const yellowRatio = (120 - normalizedHue) / 60;
            const greenRatio = (normalizedHue - 60) / 60;
            
            if (yellowRatio > 0.1) {
                const needHighHiding = coatingMethod === 'single' || targetL < 50;
                const pigment = needHighHiding ? 'iron_oxide_yellow' : 'arylide_yellow';
                const amount = yellowRatio * chromaIntensity * 6.0 * coatingFactor.base;
                formula[pigment] = calculateHidingOptimizedAmount(amount, pigment, baseVolume);
            }
            if (greenRatio > 0.1) {
                const needHighHiding = coatingMethod === 'single' || targetL < 40;
                const pigment = needHighHiding ? 'chromium_oxide_green' : 'phthalocyanine_green';
                const amount = greenRatio * chromaIntensity * 5.0 * coatingFactor.base;
                formula[pigment] = calculateHidingOptimizedAmount(amount, pigment, baseVolume);
            }
        } else {
            // 绿-蓝区域
            const greenRatio = (180 - normalizedHue) / 60;
            const blueRatio = (normalizedHue - 120) / 60;
            
            if (greenRatio > 0.1) {
                const needHighHiding = coatingMethod === 'single' || targetL < 40;
                const pigment = needHighHiding ? 'chromium_oxide_green' : 'phthalocyanine_green';
                const amount = greenRatio * chromaIntensity * 5.0 * coatingFactor.base;
                formula[pigment] = calculateHidingOptimizedAmount(amount, pigment, baseVolume);
            }
            if (blueRatio > 0.1) {
                const needHighHiding = coatingMethod === 'single' || targetL < 35;
                const pigment = needHighHiding ? 'ultramarine_blue' : 'phthalocyanine_blue';
                const amount = blueRatio * chromaIntensity * 5.5 * coatingFactor.base;
                formula[pigment] = calculateHidingOptimizedAmount(amount, pigment, baseVolume);
            }
        }
    } else if (normalizedHue >= 180 && normalizedHue < 300) {
        // 蓝-紫区域
        if (normalizedHue < 240) {
            const cyanRatio = (240 - normalizedHue) / 60;
            const blueRatio = (normalizedHue - 180) / 60;
            
            if (cyanRatio > 0.1) {
                const amount = cyanRatio * chromaIntensity * 4.0 * coatingFactor.base;
                formula.phthalocyanine_blue = calculateHidingOptimizedAmount(amount, 'phthalocyanine_blue', baseVolume);
            }
            if (blueRatio > 0.1) {
                const amount = blueRatio * chromaIntensity * 5.0 * coatingFactor.base;
                formula.ultramarine_blue = calculateHidingOptimizedAmount(amount, 'ultramarine_blue', baseVolume);
            }
        } else {
            // 蓝-紫区域
            const blueRatio = (300 - normalizedHue) / 60;
            const violetRatio = (normalizedHue - 240) / 60;
            
            if (blueRatio > 0.1) {
                const amount = blueRatio * chromaIntensity * 5.0 * coatingFactor.base;
                formula.ultramarine_blue = calculateHidingOptimizedAmount(amount, 'ultramarine_blue', baseVolume);
            }
            if (violetRatio > 0.1) {
                const amount = violetRatio * chromaIntensity * 4.5 * coatingFactor.base;
                formula.quinacridone_violet = calculateHidingOptimizedAmount(amount, 'quinacridone_violet', baseVolume);
            }
        }
    } else {
        // 紫-红区域
        const violetRatio = (360 - normalizedHue) / 60;
        const redRatio = (normalizedHue - 300) / 60;
        
        if (violetRatio > 0.1) {
            const amount = violetRatio * chromaIntensity * 4.5 * coatingFactor.base;
            formula.quinacridone_violet = calculateHidingOptimizedAmount(amount, 'quinacridone_violet', baseVolume);
        }
        if (redRatio > 0.1) {
            const needHighHiding = coatingMethod === 'single' || targetL < 40;
            const pigment = needHighHiding ? 'iron_oxide_red' : 'quinacridone_red';
            const amount = redRatio * chromaIntensity * 7.0 * coatingFactor.base;
            formula[pigment] = calculateHidingOptimizedAmount(amount, pigment, baseVolume);
        }
    }
    
    // 棕色系特殊处理（遮盖力优化）
    if (normalizedHue >= 20 && normalizedHue <= 60 && targetL < 40 && chroma < 30) {
        const brownAmount = (40 - targetL) / 40 * (30 - chroma) / 30 * 4.0 * coatingFactor.base;
        formula.iron_oxide_brown = calculateHidingOptimizedAmount(brownAmount, 'iron_oxide_brown', baseVolume);
    }
    
    // 清理微量颜料
    Object.keys(formula).forEach(key => {
        if (formula[key] < 0.05) {
            delete formula[key];
        }
    });
    
    return optimizeHidingFormula(formula, targetL, targetA, targetB, coatingMethod);
}

// 基于遮盖力优化的颜料用量计算
function calculateHidingOptimizedAmount(percentage, pigmentType, baseVolume) {
    const pigmentData = PROFESSIONAL_PIGMENTS[pigmentType];
    if (!pigmentData) return 0;
    
    const baseDensity = 1.1; // 透明基础漆密度
    
    // K/S比值修正
    const ksRatio = pigmentData.K / pigmentData.S;
    const correctionFactor = Math.log10(ksRatio + 1) / 2;
    
    // 遮盖力修正系数
    const hidingCorrection = pigmentData.hidingPower / 80; // 标准化到80%基准
    
    // 透明基础漆特殊修正
    const transparentCorrection = 0.85;
    
    // 密度修正
    const densityCorrection = pigmentData.density / baseDensity;
    
    const adjustedPercentage = percentage * correctionFactor * transparentCorrection / hidingCorrection;
    const weightGrams = (baseVolume * baseDensity * adjustedPercentage / 100) * densityCorrection;
    
    return Math.round(weightGrams * 100) / 100;
}

// 遮盖力优化的配方优化函数
function optimizeHidingFormula(formula, targetL, targetA, targetB, coatingMethod) {
    const totalPigmentWeight = Object.values(formula).reduce((sum, weight) => sum + weight, 0);
    
    // 根据涂装方式调整总量限制
    const maxLimits = {
        'single': 60,   // 单道涂装需要更多颜料
        'double': 45,   // 双道涂装可以适中
        'thin': 30      // 薄涂装饰用量较少
    };
    
    const maxWeight = maxLimits[coatingMethod] || 50;
    
    // 如果总颜料量过多，按比例缩减
    if (totalPigmentWeight > maxWeight) {
        const scaleFactor = maxWeight / totalPigmentWeight;
        Object.keys(formula).forEach(key => {
            formula[key] = Math.round(formula[key] * scaleFactor * 100) / 100;
        });
    }
    
    return formula;
}

// 计算遮盖力等级
function calculateHidingGrade(targetL, targetA, targetB, formula, coatingMethod) {
    const chroma = Math.sqrt(targetA * targetA + targetB * targetB);
    const totalPigmentWeight = Object.values(formula).reduce((sum, weight) => sum + weight, 0);
    
    // 计算加权遮盖力
    let weightedHidingPower = 0;
    let totalWeight = 0;
    
    for (const [pigmentType, weight] of Object.entries(formula)) {
        const pigmentData = PROFESSIONAL_PIGMENTS[pigmentType];
        if (pigmentData && weight > 0) {
            weightedHidingPower += pigmentData.hidingPower * weight;
            totalWeight += weight;
        }
    }
    
    const averageHidingPower = totalWeight > 0 ? weightedHidingPower / totalWeight : 0;
    
    // 基于多个因素判断遮盖力等级
    let score = averageHidingPower;
    
    // 明度影响
    if (targetL < 30) score += 10;      // 深色更容易遮盖
    else if (targetL > 70) score -= 5;  // 浅色需要更多白色颜料
    
    // 饱和度影响
    if (chroma > 50) score -= 8;        // 高饱和度颜色通常透明度高
    else if (chroma < 20) score += 5;   // 低饱和度容易遮盖
    
    // 涂装方式影响
    if (coatingMethod === 'double') score += 15;
    else if (coatingMethod === 'thin') score -= 20;
    
    // 颜料总量影响
    if (totalPigmentWeight > 15) score += 10;
    else if (totalPigmentWeight < 8) score -= 10;
    
    // 分级
    if (score >= 85) return 'A';
    else if (score >= 70) return 'B';
    else return 'C';
}

// 获取遮盖力描述
function getHidingDescription(grade, coatingMethod) {
    const descriptions = {
        'A': {
            'single': { zh: '单道涂装即可完全遮盖', en: 'Single coat provides complete hiding', ja: '単層塗装で完全隠蔽' },
            'double': { zh: '双道涂装遮盖力极佳', en: 'Excellent hiding with double coat', ja: '二層塗装で優秀隠蔽力' },
            'thin': { zh: '薄涂也有良好遮盖效果', en: 'Good hiding even with thin application', ja: '薄塗でも良好隠蔽効果' }
        },
        'B': {
            'single': { zh: '单道涂装基本遮盖，建议1.5道', en: 'Basic hiding, recommend 1.5 coats', ja: '単層で基本隠蔽、1.5層推奨' },
            'double': { zh: '双道涂装可完全遮盖', en: 'Complete hiding with double coat', ja: '二層塗装で完全隠蔽' },
            'thin': { zh: '薄涂有轻微透明效果', en: 'Slight transparency with thin coat', ja: '薄塗で軽微透明効果' }
        },
        'C': {
            'single': { zh: '建议双道涂装以确保遮盖', en: 'Recommend double coat for hiding', ja: '隠蔽確保のため二層塗装推奨' },
            'double': { zh: '双道涂装可达到良好遮盖', en: 'Good hiding achievable with double coat', ja: '二層塗装で良好隠蔽達成' },
            'thin': { zh: '薄涂呈现透明装饰效果', en: 'Transparent decorative effect', ja: '薄塗で透明装飾効果' }
        }
    };
    
    return descriptions[grade][coatingMethod];
}

// 获取涂装建议
function getCoatingRecommendation(grade, coatingMethod, targetL, chroma) {
    const recommendations = {
        'A': {
            zh: `✅ 推荐膜厚: 25-30μm | 预期遮盖率: 98%+ | 质量等级: 优秀`,
            en: `✅ Recommended thickness: 25-30μm | Expected hiding: 98%+ | Quality: Excellent`,
            ja: `✅ 推奨膜厚: 25-30μm | 予想隠蔽率: 98%+ | 品質: 優秀`
        },
        'B': {
            zh: `⚠️ 推荐膜厚: 30-35μm | 预期遮盖率: 95%+ | 质量等级: 良好`,
            en: `⚠️ Recommended thickness: 30-35μm | Expected hiding: 95%+ | Quality: Good`,
            ja: `⚠️ 推奨膜厚: 30-35μm | 予想隠蔽率: 95%+ | 品質: 良好`
        },
        'C': {
            zh: `🔄 推荐膜厚: 35-40μm 或双道涂装 | 预期遮盖率: 92%+ | 质量等级: 可接受`,
            en: `🔄 Recommended: 35-40μm or double coat | Expected hiding: 92%+ | Quality: Acceptable`,
            ja: `🔄 推奨: 35-40μm または二層塗装 | 予想隠蔽率: 92%+ | 品質: 可`
        }
    };
    
    return recommendations[grade];
}

// ======================== 其他功能函数 ========================
function switchLanguage(lang) {
    currentLanguage = lang;
    
    document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
    document.querySelector(`[onclick="switchLanguage('${lang}')"]`).classList.add('active');
    
    ['zh', 'en', 'ja'].forEach(l => {
        const elements = document.querySelectorAll(`.${l}`);
        elements.forEach(el => {
            if (l === lang) {
                el.classList.remove('hidden');
            } else {
                el.classList.add('hidden');
            }
        });
    });
    
    updatePlaceholders();
    updateVolumeDisplay();
    populateRalSelect();
    generateColorGrid();
}

function updatePlaceholders() {
    const placeholders = {
        zh: '请输入 RAL 四位色号',
        en: 'Enter 4-digit RAL code',
        ja: 'RAL 4桁コードを入力'
    };
    
    if (ralInput) {
        ralInput.placeholder = placeholders[currentLanguage];
    }
}

function updateVolumeDisplay() {
    const volumeDisplay = document.getElementById('volumeDisplay');
    if (!volumeDisplay || !volumeSelect) return;
    
    const volume = volumeSelect.value;
    const displays = {
        '500': { zh: '500ml', en: '500ml', ja: '500ml' },
        '1000': { zh: '1L (1000ml)', en: '1L (1000ml)', ja: '1L (1000ml)' },
        '5000': { zh: '5L (5000ml)', en: '5L (5000ml)', ja: '5L (5000ml)' },
        '20000': { zh: '20L (20000ml)', en: '20L (20000ml)', ja: '20L (20000ml)' }
    };
    
    volumeDisplay.textContent = displays[volume][currentLanguage];
}

function generateColorGrid() {
    if (!colorGrid) return;
    
    colorGrid.innerHTML = '';
    
    Object.entries(ralPaintMap).forEach(([code, data]) => {
        const swatch = document.createElement('div');
        swatch.className = 'color-swatch';
        swatch.style.backgroundColor = data.rgb;
        swatch.textContent = code;
        swatch.onclick = () => selectColor(code);
        
        colorGrid.appendChild(swatch);
    });
}

function selectColor(ralCode) {
    document.querySelectorAll('.color-swatch').forEach(swatch => {
        swatch.classList.remove('selected');
    });
    
    event.target.classList.add('selected');
    
    if (ralInput) ralInput.value = ralCode;
    if (ralSelect) ralSelect.value = ralCode;
    
    displayColorInfo(ralCode);
}

function displayColorInfo(ralCode) {
    const colorData = ralPaintMap[ralCode];
    if (!colorData) {
        showError();
        return;
    }
    
    currentColorData = colorData;
    
    try {
        if (colorDisplay) colorDisplay.style.display = 'block';
        if (errorMsg) errorMsg.style.display = 'none';
        
        if (colorPreview) {
            colorPreview.style.backgroundColor = colorData.rgb;
            colorPreview.innerHTML = `RAL ${ralCode}`;
            
            const rgb = hexToRgb(colorData.rgb);
            if (rgb) {
                const brightness = (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;
                colorPreview.style.color = brightness > 128 ? '#000' : '#fff';
            }
        }
        
        // 颜色信息
        const colorInfo = document.getElementById('colorInfo');
        if (colorInfo) {
            const infoTexts = {
                zh: `RAL ${ralCode} - ${colorData.name.zh}<br>RGB: ${colorData.rgb}<br>LAB: L=${colorData.lab.L}, a=${colorData.lab.a}, b=${colorData.lab.b}`,
                en: `RAL ${ralCode} - ${colorData.name.en}<br>RGB: ${colorData.rgb}<br>LAB: L=${colorData.lab.L}, a=${colorData.lab.a}, b=${colorData.lab.b}`,
                ja: `RAL ${ralCode} - ${colorData.name.ja}<br>RGB: ${colorData.rgb}<br>LAB: L=${colorData.lab.L}, a=${colorData.lab.a}, b=${colorData.lab.b}`
            };
            colorInfo.innerHTML = infoTexts[currentLanguage];
        }
        
        // 显示配方和遮盖力分析
        displayHidingPowerAnalysis(colorData.lab.L, colorData.lab.a, colorData.lab.b, colorData.hidingGrade);
        
    } catch (error) {
        console.error('Display color info error:', error);
        showError();
    }
}

function displayHidingPowerAnalysis(L, a, b, defaultGrade) {
    if (!recipeList) return;
    
    try {
        const selectedVolume = parseInt(volumeSelect.value);
        const coatingMethod = coatingSelect.value;
        const formula = calculateHidingPowerOptimizedFormula(L, a, b, selectedVolume, coatingMethod);
        
        // 计算遮盖力等级
        const hi
